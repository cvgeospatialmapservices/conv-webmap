import{c as $o}from"./chunk-Z3ODKNMB.js";import{Ba as Uo,Ca as Xo,Pb as Jo,d as m,e as nr,ha as Go,la as Yo,ma as Wo,tb as Ko,ua as Vo}from"./chunk-WM2ZQESE.js";var or=m((ar,Qo)=>{"use strict";(function(r,a){typeof ar=="object"&&typeof Qo<"u"?a(ar):typeof define=="function"&&define.amd?define(["exports"],a):(r=typeof globalThis<"u"?globalThis:r||self,a(r.leaflet={}))})(ar,function(r){"use strict";var a="1.9.4";function i(e){var t,n,o,u;for(n=1,o=arguments.length;n<o;n++){u=arguments[n];for(t in u)e[t]=u[t]}return e}var s=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function c(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var o=n.call(arguments,2);return function(){return e.apply(t,o.length?o.concat(n.call(arguments)):arguments)}}var l=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++l),e._leaflet_id}function _(e,t,n){var o,u,h,d;return d=function(){o=!1,u&&(h.apply(n,u),u=!1)},h=function(){o?u=arguments:(e.apply(n,arguments),setTimeout(d,t),o=!0)},h}function p(e,t,n){var o=t[1],u=t[0],h=o-u;return e===o&&n?e:((e-u)%h+h)%h+u}function g(){return!1}function T(e,t){if(t===!1)return e;var n=Math.pow(10,t===void 0?6:t);return Math.round(e*n)/n}function P(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function w(e){return P(e).split(/\s+/)}function x(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?s(e.options):{});for(var n in t)e.options[n]=t[n];return e.options}function E(e,t,n){var o=[];for(var u in e)o.push(encodeURIComponent(n?u.toUpperCase():u)+"="+encodeURIComponent(e[u]));return(!t||t.indexOf("?")===-1?"?":"&")+o.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function S(e,t){return e.replace(k,function(n,o){var u=t[o];if(u===void 0)throw new Error("No value provided for variable "+n);return typeof u=="function"&&(u=u(t)),u})}var D=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function G(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var Y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var K=0;function ie(e){var t=+new Date,n=Math.max(0,16-(t-K));return K=t+n,window.setTimeout(e,n)}var me=window.requestAnimationFrame||V("RequestAnimationFrame")||ie,he=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function W(e,t,n){if(n&&me===ie)e.call(t);else return me.call(window,c(e,t))}function re(e){e&&he.call(window,e)}var vt={__proto__:null,extend:i,create:s,bind:c,get lastId(){return l},stamp:f,throttle:_,wrapNum:p,falseFn:g,formatNum:T,trim:P,splitWords:w,setOptions:x,getParamString:E,template:S,isArray:D,indexOf:G,emptyImageUrl:Y,requestFn:me,cancelFn:he,requestAnimFrame:W,cancelAnimFrame:re};function de(){}de.extend=function(e){var t=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},n=t.__super__=this.prototype,o=s(n);o.constructor=t,t.prototype=o;for(var u in this)Object.prototype.hasOwnProperty.call(this,u)&&u!=="prototype"&&u!=="__super__"&&(t[u]=this[u]);return e.statics&&i(t,e.statics),e.includes&&(Mt(e.includes),i.apply(null,[o].concat(e.includes))),i(o,e),delete o.statics,delete o.includes,o.options&&(o.options=n.options?s(n.options):{},i(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var h=0,d=o._initHooks.length;h<d;h++)o._initHooks[h].call(this)}},t},de.include=function(e){var t=this.prototype.options;return i(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},de.mergeOptions=function(e){return i(this.prototype.options,e),this},de.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};function Mt(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=D(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var fe={on:function(e,t,n){if(typeof e=="object")for(var o in e)this._on(o,e[o],t);else{e=w(e);for(var u=0,h=e.length;u<h;u++)this._on(e[u],t,n)}return this},off:function(e,t,n){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var o in e)this._off(o,e[o],t);else{e=w(e);for(var u=arguments.length===1,h=0,d=e.length;h<d;h++)u?this._off(e[h]):this._off(e[h],t,n)}return this},_on:function(e,t,n,o){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,n)===!1){n===this&&(n=void 0);var u={fn:t,ctx:n};o&&(u.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(u)}},_off:function(e,t,n){var o,u,h;if(this._events&&(o=this._events[e],!!o)){if(arguments.length===1){if(this._firingCount)for(u=0,h=o.length;u<h;u++)o[u].fn=g;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var d=this._listens(e,t,n);if(d!==!1){var v=o[d];this._firingCount&&(v.fn=g,this._events[e]=o=o.slice()),o.splice(d,1)}}},fire:function(e,t,n){if(!this.listens(e,n))return this;var o=i({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var u=this._events[e];if(u){this._firingCount=this._firingCount+1||1;for(var h=0,d=u.length;h<d;h++){var v=u[h],y=v.fn;v.once&&this.off(e,y,v.ctx),y.call(v.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(e,t,n,o){typeof e!="string"&&console.warn('"string" type argument expected');var u=t;typeof t!="function"&&(o=!!t,u=void 0,n=void 0);var h=this._events&&this._events[e];if(h&&h.length&&this._listens(e,u,n)!==!1)return!0;if(o){for(var d in this._eventParents)if(this._eventParents[d].listens(e,t,n,o))return!0}return!1},_listens:function(e,t,n){if(!this._events)return!1;var o=this._events[e]||[];if(!t)return!!o.length;n===this&&(n=void 0);for(var u=0,h=o.length;u<h;u++)if(o[u].fn===t&&o[u].ctx===n)return u;return!1},once:function(e,t,n){if(typeof e=="object")for(var o in e)this._on(o,e[o],t,!0);else{e=w(e);for(var u=0,h=e.length;u<h;u++)this._on(e[u],t,n,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,i({layer:e.target,propagatedFrom:e.target},e),!0)}};fe.addEventListener=fe.on,fe.removeEventListener=fe.clearAllEventListeners=fe.off,fe.addOneTimeEventListener=fe.once,fe.fireEvent=fe.fire,fe.hasEventListeners=fe.listens;var gt=de.extend(fe);function A(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var We=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(e){return this.clone()._add(z(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(z(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new A(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new A(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=We(this.x),this.y=We(this.y),this},distanceTo:function(e){e=z(e);var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return e=z(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=z(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function z(e,t,n){return e instanceof A?e:D(e)?new A(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new A(e.x,e.y):new A(e,t,n)}function $(e,t){if(e)for(var n=t?[e,t]:e,o=0,u=n.length;o<u;o++)this.extend(n[o])}$.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof A||typeof e[0]=="number"||"x"in e)t=n=z(e);else if(e=ve(e),t=e.min,n=e.max,!t||!n)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=n.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)),this},getCenter:function(e){return z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return z(this.min.x,this.max.y)},getTopRight:function(){return z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return typeof e[0]=="number"||e instanceof A?e=z(e):e=ve(e),e instanceof $?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=ve(e);var t=this.min,n=this.max,o=e.min,u=e.max,h=u.x>=t.x&&o.x<=n.x,d=u.y>=t.y&&o.y<=n.y;return h&&d},overlaps:function(e){e=ve(e);var t=this.min,n=this.max,o=e.min,u=e.max,h=u.x>t.x&&o.x<n.x,d=u.y>t.y&&o.y<n.y;return h&&d},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,n=this.max,o=Math.abs(t.x-n.x)*e,u=Math.abs(t.y-n.y)*e;return ve(z(t.x-o,t.y-u),z(n.x+o,n.y+u))},equals:function(e){return e?(e=ve(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function ve(e,t){return!e||e instanceof $?e:new $(e,t)}function ge(e,t){if(e)for(var n=t?[e,t]:e,o=0,u=n.length;o<u;o++)this.extend(n[o])}ge.prototype={extend:function(e){var t=this._southWest,n=this._northEast,o,u;if(e instanceof H)o=e,u=e;else if(e instanceof ge){if(o=e._southWest,u=e._northEast,!o||!u)return this}else return e?this.extend(R(e)||ne(e)):this;return!t&&!n?(this._southWest=new H(o.lat,o.lng),this._northEast=new H(u.lat,u.lng)):(t.lat=Math.min(o.lat,t.lat),t.lng=Math.min(o.lng,t.lng),n.lat=Math.max(u.lat,n.lat),n.lng=Math.max(u.lng,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,o=Math.abs(t.lat-n.lat)*e,u=Math.abs(t.lng-n.lng)*e;return new ge(new H(t.lat-o,t.lng-u),new H(n.lat+o,n.lng+u))},getCenter:function(){return new H((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new H(this.getNorth(),this.getWest())},getSouthEast:function(){return new H(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof H||"lat"in e?e=R(e):e=ne(e);var t=this._southWest,n=this._northEast,o,u;return e instanceof ge?(o=e.getSouthWest(),u=e.getNorthEast()):o=u=e,o.lat>=t.lat&&u.lat<=n.lat&&o.lng>=t.lng&&u.lng<=n.lng},intersects:function(e){e=ne(e);var t=this._southWest,n=this._northEast,o=e.getSouthWest(),u=e.getNorthEast(),h=u.lat>=t.lat&&o.lat<=n.lat,d=u.lng>=t.lng&&o.lng<=n.lng;return h&&d},overlaps:function(e){e=ne(e);var t=this._southWest,n=this._northEast,o=e.getSouthWest(),u=e.getNorthEast(),h=u.lat>t.lat&&o.lat<n.lat,d=u.lng>t.lng&&o.lng<n.lng;return h&&d},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=ne(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ne(e,t){return e instanceof ge?e:new ge(e,t)}function H(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,n!==void 0&&(this.alt=+n)}H.prototype={equals:function(e,t){if(!e)return!1;e=R(e);var n=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return n<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+T(this.lat,e)+", "+T(this.lng,e)+")"},distanceTo:function(e){return Ve.distance(this,R(e))},wrap:function(){return Ve.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return ne([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new H(this.lat,this.lng,this.alt)}};function R(e,t,n){return e instanceof H?e:D(e)&&typeof e[0]!="object"?e.length===3?new H(e[0],e[1],e[2]):e.length===2?new H(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new H(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new H(e,t,n)}var Ze={latLngToPoint:function(e,t){var n=this.projection.project(e),o=this.scale(t);return this.transformation._transform(n,o)},pointToLatLng:function(e,t){var n=this.scale(t),o=this.transformation.untransform(e,n);return this.projection.unproject(o)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e),o=this.transformation.transform(t.min,n),u=this.transformation.transform(t.max,n);return new $(o,u)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?p(e.lng,this.wrapLng,!0):e.lng,n=this.wrapLat?p(e.lat,this.wrapLat,!0):e.lat,o=e.alt;return new H(n,t,o)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),o=t.lat-n.lat,u=t.lng-n.lng;if(o===0&&u===0)return e;var h=e.getSouthWest(),d=e.getNorthEast(),v=new H(h.lat-o,h.lng-u),y=new H(d.lat-o,d.lng-u);return new ge(v,y)}},Ve=i({},Ze,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,o=e.lat*n,u=t.lat*n,h=Math.sin((t.lat-e.lat)*n/2),d=Math.sin((t.lng-e.lng)*n/2),v=h*h+Math.cos(o)*Math.cos(u)*d*d,y=2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v));return this.R*y}}),Ia=6378137,an={R:Ia,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,e.lat),-n),u=Math.sin(o*t);return new A(this.R*e.lng*t,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(e){var t=180/Math.PI;return new H((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=Ia*Math.PI;return new $([-e,-e],[e,e])}()};function on(e,t,n,o){if(D(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=n,this._d=o}on.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new A((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function ti(e,t,n,o){return new on(e,t,n,o)}var sn=i({},Ve,{code:"EPSG:3857",projection:an,transformation:function(){var e=.5/(Math.PI*an.R);return ti(e,.5,-e,.5)}()}),Ff=i({},sn,{code:"EPSG:900913"});function Da(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function za(e,t){var n="",o,u,h,d,v,y;for(o=0,h=e.length;o<h;o++){for(v=e[o],u=0,d=v.length;u<d;u++)y=v[u],n+=(u?"L":"M")+y.x+" "+y.y;n+=t?C.svg?"z":"x":""}return n||"M0 0"}var un=document.documentElement.style,Ri="ActiveXObject"in window,Rf=Ri&&!document.addEventListener,qa="msLaunchUri"in navigator&&!("documentMode"in document),ln=Se("webkit"),Ba=Se("android"),Fa=Se("android 2")||Se("android 3"),Zf=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Nf=Ba&&Se("Google")&&Zf<537&&!("AudioNode"in window),cn=!!window.opera,Ra=!qa&&Se("chrome"),Za=Se("gecko")&&!ln&&!cn&&!Ri,jf=!Ra&&Se("safari"),Na=Se("phantom"),ja="OTransition"in un,Hf=navigator.platform.indexOf("Win")===0,Ha=Ri&&"transition"in un,hn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Fa,Ga="MozPerspective"in un,Gf=!window.L_DISABLE_3D&&(Ha||hn||Ga)&&!ja&&!Na,ii=typeof orientation<"u"||Se("mobile"),Yf=ii&&ln,Wf=ii&&hn,Ya=!window.PointerEvent&&window.MSPointerEvent,Wa=!!(window.PointerEvent||Ya),Va="ontouchstart"in window||!!window.TouchEvent,Vf=!window.L_NO_TOUCH&&(Va||Wa),Uf=ii&&cn,Xf=ii&&Za,Kf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jf=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",g,t),window.removeEventListener("testPassiveEventSupport",g,t)}catch{}return e}(),$f=function(){return!!document.createElement("canvas").getContext}(),fn=!!(document.createElementNS&&Da("svg").createSVGRect),Qf=!!fn&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ed=!fn&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch{return!1}}(),td=navigator.platform.indexOf("Mac")===0,id=navigator.platform.indexOf("Linux")===0;function Se(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var C={ie:Ri,ielt9:Rf,edge:qa,webkit:ln,android:Ba,android23:Fa,androidStock:Nf,opera:cn,chrome:Ra,gecko:Za,safari:jf,phantom:Na,opera12:ja,win:Hf,ie3d:Ha,webkit3d:hn,gecko3d:Ga,any3d:Gf,mobile:ii,mobileWebkit:Yf,mobileWebkit3d:Wf,msPointer:Ya,pointer:Wa,touch:Vf,touchNative:Va,mobileOpera:Uf,mobileGecko:Xf,retina:Kf,passiveEvents:Jf,canvas:$f,svg:fn,vml:ed,inlineSvg:Qf,mac:td,linux:id},Ua=C.msPointer?"MSPointerDown":"pointerdown",Xa=C.msPointer?"MSPointerMove":"pointermove",Ka=C.msPointer?"MSPointerUp":"pointerup",Ja=C.msPointer?"MSPointerCancel":"pointercancel",dn={touchstart:Ua,touchmove:Xa,touchend:Ka,touchcancel:Ja},$a={touchstart:ud,touchmove:Zi,touchend:Zi,touchcancel:Zi},Et={},Qa=!1;function rd(e,t,n){return t==="touchstart"&&sd(),$a[t]?(n=$a[t].bind(this,n),e.addEventListener(dn[t],n,!1),n):(console.warn("wrong event specified:",t),g)}function nd(e,t,n){if(!dn[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(dn[t],n,!1)}function ad(e){Et[e.pointerId]=e}function od(e){Et[e.pointerId]&&(Et[e.pointerId]=e)}function eo(e){delete Et[e.pointerId]}function sd(){Qa||(document.addEventListener(Ua,ad,!0),document.addEventListener(Xa,od,!0),document.addEventListener(Ka,eo,!0),document.addEventListener(Ja,eo,!0),Qa=!0)}function Zi(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var n in Et)t.touches.push(Et[n]);t.changedTouches=[t],e(t)}}function ud(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&ce(t),Zi(e,t)}function ld(e){var t={},n,o;for(o in e)n=e[o],t[o]=n&&n.bind?n.bind(e):n;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var cd=200;function hd(e,t){e.addEventListener("dblclick",t);var n=0,o;function u(h){if(h.detail!==1){o=h.detail;return}if(!(h.pointerType==="mouse"||h.sourceCapabilities&&!h.sourceCapabilities.firesTouchEvents)){var d=ao(h);if(!(d.some(function(y){return y instanceof HTMLLabelElement&&y.attributes.for})&&!d.some(function(y){return y instanceof HTMLInputElement||y instanceof HTMLSelectElement}))){var v=Date.now();v-n<=cd?(o++,o===2&&t(ld(h))):o=1,n=v}}}return e.addEventListener("click",u),{dblclick:t,simDblclick:u}}function fd(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var pn=Hi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ri=Hi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),to=ri==="webkitTransition"||ri==="OTransition"?ri+"End":"transitionend";function io(e){return typeof e=="string"?document.getElementById(e):e}function ni(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||n==="auto")&&document.defaultView){var o=document.defaultView.getComputedStyle(e,null);n=o?o[t]:null}return n==="auto"?null:n}function N(e,t,n){var o=document.createElement(e);return o.className=t||"",n&&n.appendChild(o),o}function Q(e){var t=e.parentNode;t&&t.removeChild(e)}function Ni(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function St(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Ct(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function _n(e,t){if(e.classList!==void 0)return e.classList.contains(t);var n=ji(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function B(e,t){if(e.classList!==void 0)for(var n=w(t),o=0,u=n.length;o<u;o++)e.classList.add(n[o]);else if(!_n(e,t)){var h=ji(e);mn(e,(h?h+" ":"")+t)}}function ee(e,t){e.classList!==void 0?e.classList.remove(t):mn(e,P((" "+ji(e)+" ").replace(" "+t+" "," ")))}function mn(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function ji(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function we(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&dd(e,t)}function dd(e,t){var n=!1,o="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(o)}catch{if(t===1)return}t=Math.round(t*100),n?(n.Enabled=t!==100,n.Opacity=t):e.style.filter+=" progid:"+o+"(opacity="+t+")"}function Hi(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function yt(e,t,n){var o=t||new A(0,0);e.style[pn]=(C.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")}function ae(e,t){e._leaflet_pos=t,C.any3d?yt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function bt(e){return e._leaflet_pos||new A(0,0)}var ai,oi,vn;if("onselectstart"in document)ai=function(){q(window,"selectstart",ce)},oi=function(){U(window,"selectstart",ce)};else{var si=Hi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ai=function(){if(si){var e=document.documentElement.style;vn=e[si],e[si]="none"}},oi=function(){si&&(document.documentElement.style[si]=vn,vn=void 0)}}function gn(){q(window,"dragstart",ce)}function yn(){U(window,"dragstart",ce)}var Gi,bn;function xn(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Yi(),Gi=e,bn=e.style.outlineStyle,e.style.outlineStyle="none",q(window,"keydown",Yi))}function Yi(){Gi&&(Gi.style.outlineStyle=bn,Gi=void 0,bn=void 0,U(window,"keydown",Yi))}function ro(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function wn(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var pd={__proto__:null,TRANSFORM:pn,TRANSITION:ri,TRANSITION_END:to,get:io,getStyle:ni,create:N,remove:Q,empty:Ni,toFront:St,toBack:Ct,hasClass:_n,addClass:B,removeClass:ee,setClass:mn,getClass:ji,setOpacity:we,testProp:Hi,setTransform:yt,setPosition:ae,getPosition:bt,get disableTextSelection(){return ai},get enableTextSelection(){return oi},disableImageDrag:gn,enableImageDrag:yn,preventOutline:xn,restoreOutline:Yi,getSizedParentNode:ro,getScale:wn};function q(e,t,n,o){if(t&&typeof t=="object")for(var u in t)Tn(e,u,t[u],n);else{t=w(t);for(var h=0,d=t.length;h<d;h++)Tn(e,t[h],n,o)}return this}var Ce="_leaflet_events";function U(e,t,n,o){if(arguments.length===1)no(e),delete e[Ce];else if(t&&typeof t=="object")for(var u in t)kn(e,u,t[u],n);else if(t=w(t),arguments.length===2)no(e,function(v){return G(t,v)!==-1});else for(var h=0,d=t.length;h<d;h++)kn(e,t[h],n,o);return this}function no(e,t){for(var n in e[Ce]){var o=n.split(/\d/)[0];(!t||t(o))&&kn(e,o,null,null,n)}}var Pn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Tn(e,t,n,o){var u=t+f(n)+(o?"_"+f(o):"");if(e[Ce]&&e[Ce][u])return this;var h=function(v){return n.call(o||e,v||window.event)},d=h;!C.touchNative&&C.pointer&&t.indexOf("touch")===0?h=rd(e,t,h):C.touch&&t==="dblclick"?h=hd(e,h):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(Pn[t]||t,h,C.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(h=function(v){v=v||window.event,Mn(e,v)&&d(v)},e.addEventListener(Pn[t],h,!1)):e.addEventListener(t,d,!1):e.attachEvent("on"+t,h),e[Ce]=e[Ce]||{},e[Ce][u]=h}function kn(e,t,n,o,u){u=u||t+f(n)+(o?"_"+f(o):"");var h=e[Ce]&&e[Ce][u];if(!h)return this;!C.touchNative&&C.pointer&&t.indexOf("touch")===0?nd(e,t,h):C.touch&&t==="dblclick"?fd(e,h):"removeEventListener"in e?e.removeEventListener(Pn[t]||t,h,!1):e.detachEvent("on"+t,h),e[Ce][u]=null}function xt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Ln(e){return Tn(e,"wheel",xt),this}function ui(e){return q(e,"mousedown touchstart dblclick contextmenu",xt),e._leaflet_disable_click=!0,this}function ce(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function wt(e){return ce(e),xt(e),this}function ao(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function oo(e,t){if(!t)return new A(e.clientX,e.clientY);var n=wn(t),o=n.boundingClientRect;return new A((e.clientX-o.left)/n.x-t.clientLeft,(e.clientY-o.top)/n.y-t.clientTop)}var _d=C.linux&&C.chrome?window.devicePixelRatio:C.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function so(e){return C.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/_d:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Mn(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch{return!1}return n!==e}var md={__proto__:null,on:q,off:U,stopPropagation:xt,disableScrollPropagation:Ln,disableClickPropagation:ui,preventDefault:ce,stop:wt,getPropagationPath:ao,getMousePosition:oo,getWheelDelta:so,isExternalTarget:Mn,addListener:q,removeListener:U},uo=gt.extend({run:function(e,t,n,o){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=bt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=this._duration*1e3;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),ae(this._el,n),this.fire("step")},_complete:function(){re(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Z=gt.extend({options:{crs:sn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=x(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(R(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ri&&C.any3d&&!C.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),q(this._proxy,to,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,n){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(R(e),t,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==void 0&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan));var o=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,n.zoom):this._tryAnimatedPan(e,n.pan);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,n.pan&&n.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(C.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(C.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var o=this.getZoomScale(t),u=this.getSize().divideBy(2),h=e instanceof A?e:this.latLngToContainerPoint(e),d=h.subtract(u).multiplyBy(1-1/o),v=this.containerPointToLatLng(u.add(d));return this.setView(v,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():ne(e);var n=z(t.paddingTopLeft||t.padding||[0,0]),o=z(t.paddingBottomRight||t.padding||[0,0]),u=this.getBoundsZoom(e,!1,n.add(o));if(u=typeof t.maxZoom=="number"?Math.min(t.maxZoom,u):u,u===1/0)return{center:e.getCenter(),zoom:u};var h=o.subtract(n).divideBy(2),d=this.project(e.getSouthWest(),u),v=this.project(e.getNorthEast(),u),y=this.unproject(d.add(v).divideBy(2).add(h),u);return{center:y,zoom:u}},fitBounds:function(e,t){if(e=ne(e),!e.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=z(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new uo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){B(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(n=n||{},n.animate===!1||!C.any3d)return this.setView(e,t,n);this._stop();var o=this.project(this.getCenter()),u=this.project(e),h=this.getSize(),d=this._zoom;e=R(e),t=t===void 0?d:t;var v=Math.max(h.x,h.y),y=v*this.getZoomScale(d,t),b=u.distanceTo(o)||1,M=1.42,O=M*M;function F(oe){var rr=oe?-1:1,np=oe?y:v,ap=y*y-v*v+rr*O*O*b*b,op=2*np*O*b,Fn=ap/op,Ho=Math.sqrt(Fn*Fn+1)-Fn,sp=Ho<1e-9?-18:Math.log(Ho);return sp}function pe(oe){return(Math.exp(oe)-Math.exp(-oe))/2}function ue(oe){return(Math.exp(oe)+Math.exp(-oe))/2}function Te(oe){return pe(oe)/ue(oe)}var ye=F(0);function qt(oe){return v*(ue(ye)/ue(ye+M*oe))}function ep(oe){return v*(ue(ye)*Te(ye+M*oe)-pe(ye))/O}function tp(oe){return 1-Math.pow(1-oe,1.5)}var ip=Date.now(),No=(F(1)-ye)/M,rp=n.duration?1e3*n.duration:1e3*No*.8;function jo(){var oe=(Date.now()-ip)/rp,rr=tp(oe)*No;oe<=1?(this._flyToFrame=W(jo,this),this._move(this.unproject(o.add(u.subtract(o).multiplyBy(ep(rr)/b)),d),this.getScaleZoom(v/qt(rr),d),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),jo.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=ne(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),o=this._limitCenter(n,this._zoom,ne(e));return n.equals(o)||this.panTo(o,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var n=z(t.paddingTopLeft||t.padding||[0,0]),o=z(t.paddingBottomRight||t.padding||[0,0]),u=this.project(this.getCenter()),h=this.project(e),d=this.getPixelBounds(),v=ve([d.min.add(n),d.max.subtract(o)]),y=v.getSize();if(!v.contains(h)){this._enforcingBounds=!0;var b=h.subtract(v.getCenter()),M=v.extend(h).getSize().subtract(y);u.x+=b.x<0?-M.x:M.x,u.y+=b.y<0?-M.y:M.y,this.panTo(this.unproject(u),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=i({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=t.divideBy(2).round(),u=n.divideBy(2).round(),h=o.subtract(u);return!h.x&&!h.y?this:(e.animate&&e.pan?this.panBy(h):(e.pan&&this._rawPanBy(h),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:n}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=i({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=c(this._handleGeolocationResponse,this),n=c(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,n,e):navigator.geolocation.getCurrentPosition(t,n,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,n=e.coords.longitude,o=new H(t,n),u=o.toBounds(e.coords.accuracy*2),h=this._locateOptions;if(h.setView){var d=this.getBoundsZoom(u);this.setView(o,h.maxZoom?Math.min(d,h.maxZoom):d)}var v={latlng:o,bounds:u,timestamp:e.timestamp};for(var y in e.coords)typeof e.coords[y]=="number"&&(v[y]=e.coords[y]);this.fire("locationfound",v)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Q(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(re(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Q(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),o=N("div",n,t||this._mapPane);return e&&(this._panes[e]=o),o},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),n=this.unproject(e.getTopRight());return new ge(t,n)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=ne(e),n=z(n||[0,0]);var o=this.getZoom()||0,u=this.getMinZoom(),h=this.getMaxZoom(),d=e.getNorthWest(),v=e.getSouthEast(),y=this.getSize().subtract(n),b=ve(this.project(v,o),this.project(d,o)).getSize(),M=C.any3d?this.options.zoomSnap:1,O=y.x/b.x,F=y.y/b.y,pe=t?Math.max(O,F):Math.min(O,F);return o=this.getScaleZoom(pe,o),M&&(o=Math.round(o/(M/100))*(M/100),o=t?Math.ceil(o/M)*M:Math.floor(o/M)*M),Math.max(u,Math.min(h,o))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new $(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=t===void 0?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=t===void 0?this._zoom:t;var o=n.zoom(e*n.scale(t));return isNaN(o)?1/0:o},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(R(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(z(e),t)},layerPointToLatLng:function(e){var t=z(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(R(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(R(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ne(e))},distance:function(e,t){return this.options.crs.distance(R(e),R(t))},containerPointToLayerPoint:function(e){return z(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return z(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(z(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(R(e)))},mouseEventToContainerPoint:function(e){return oo(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=io(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");q(t,"scroll",this._onScroll,this),this._containerId=f(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&C.any3d,B(e,"leaflet-container"+(C.touch?" leaflet-touch":"")+(C.retina?" leaflet-retina":"")+(C.ielt9?" leaflet-oldie":"")+(C.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ni(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&t!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ae(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(B(e.markerPane,"leaflet-zoom-hide"),B(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){ae(this._mapPane,new A(0,0));var o=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var u=this._zoom!==t;this._moveStart(u,n)._move(e,t)._moveEnd(u),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,o){t===void 0&&(t=this._zoom);var u=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),o?n&&n.pinch&&this.fire("zoom",n):((u||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return re(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){ae(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var t=e?U:q;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),C.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){re(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n=[],o,u=t==="mouseout"||t==="mouseover",h=e.target||e.srcElement,d=!1;h;){if(o=this._targets[f(h)],o&&(t==="click"||t==="preclick")&&this._draggableMoved(o)){d=!0;break}if(o&&o.listens(t,!0)&&(u&&!Mn(h,e)||(n.push(o),u))||h===this._container)break;h=h.parentNode}return!n.length&&!d&&!u&&this.listens(t,!0)&&(n=[this]),n},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var n=e.type;n==="mousedown"&&xn(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,n){if(e.type==="click"){var o=i({},e);o.type="preclick",this._fireDOMEvent(o,o.type,n)}var u=this._findEventTargets(e,t);if(n){for(var h=[],d=0;d<n.length;d++)n[d].listens(t,!0)&&h.push(n[d]);u=h.concat(u)}if(u.length){t==="contextmenu"&&ce(e);var v=u[0],y={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var b=v.getLatLng&&(!v._radius||v._radius<=10);y.containerPoint=b?this.latLngToContainerPoint(v.getLatLng()):this.mouseEventToContainerPoint(e),y.layerPoint=this.containerPointToLayerPoint(y.containerPoint),y.latlng=b?v.getLatLng():this.layerPointToLatLng(y.layerPoint)}for(d=0;d<u.length;d++)if(u[d].fire(t,y,!0),y.originalEvent._stopped||u[d].options.bubblingMouseEvents===!1&&G(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return bt(this._mapPane)||new A(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var n=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var o=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(o)},_latLngBoundsToNewLayerBounds:function(e,t,n){var o=this._getNewPixelOrigin(n,t);return ve([this.project(e.getSouthWest(),t)._subtract(o),this.project(e.getNorthWest(),t)._subtract(o),this.project(e.getSouthEast(),t)._subtract(o),this.project(e.getNorthEast(),t)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var o=this.project(e,t),u=this.getSize().divideBy(2),h=new $(o.subtract(u),o.add(u)),d=this._getBoundsOffset(h,n,t);return Math.abs(d.x)<=1&&Math.abs(d.y)<=1?e:this.unproject(o.add(d),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),o=new $(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(o,t))},_getBoundsOffset:function(e,t,n){var o=ve(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),u=o.min.subtract(e.min),h=o.max.subtract(e.max),d=this._rebound(u.x,-h.x),v=this._rebound(u.y,-h.y);return new A(d,v)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),o=C.any3d?this.options.zoomSnap:1;return o&&(e=Math.round(e/o)*o),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(n)?!1:(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=N("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var n=pn,o=this._proxy.style[n];yt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),o===this._proxy.style[n]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Q(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();yt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||n.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var o=this.getZoomScale(t),u=this._getCenterOffset(e)._divideBy(1-1/o);return n.animate!==!0&&!this.getSize().contains(u)?!1:(W(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,o){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,B(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:o}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function vd(e,t){return new Z(e,t)}var Le=de.extend({options:{position:"topright"},initialize:function(e){x(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),o=e._controlCorners[n];return B(t,"leaflet-control"),n.indexOf("bottom")!==-1?o.insertBefore(t,o.firstChild):o.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Q(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),li=function(e){return new Le(e)};Z.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=N("div",t+"control-container",this._container);function o(u,h){var d=t+u+" "+t+h;e[u+h]=N("div",d,n)}o("top","left"),o("top","right"),o("bottom","left"),o("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Q(this._controlCorners[e]);Q(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lo=Le.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,o){return n<o?-1:o<n?1:0}},initialize:function(e,t,n){x(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var o in e)this._addLayer(e[o],o);for(o in t)this._addLayer(t[o],o,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Le.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(f(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){B(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(B(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=N("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),ui(t),Ln(t);var o=this._section=N("section",e+"-list");n&&(this._map.on("click",this.collapse,this),q(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var u=this._layersLink=N("a",e+"-toggle",t);u.href="#",u.title="Layers",u.setAttribute("role","button"),q(u,{keydown:function(h){h.keyCode===13&&this._expandSafely()},click:function(h){ce(h),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=N("div",e+"-base",o),this._separator=N("div",e+"-separator",o),this._overlaysList=N("div",e+"-overlays",o),t.appendChild(o)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&f(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(c(function(o,u){return this.options.sortFunction(o.layer,u.layer,o.name,u.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ni(this._baseLayersList),Ni(this._overlaysList),this._layerControlInputs=[];var e,t,n,o,u=0;for(n=0;n<this._layers.length;n++)o=this._layers[n],this._addItem(o),t=t||o.overlay,e=e||!o.overlay,u+=o.overlay?0:1;return this.options.hideSingleBase&&(e=e&&u>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(f(e.target)),n=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",o=document.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(e){var t=document.createElement("label"),n=this._map.hasLayer(e.layer),o;e.overlay?(o=document.createElement("input"),o.type="checkbox",o.className="leaflet-control-layers-selector",o.defaultChecked=n):o=this._createRadioElement("leaflet-base-layers_"+f(this),n),this._layerControlInputs.push(o),o.layerId=f(e.layer),q(o,"click",this._onInputClick,this);var u=document.createElement("span");u.innerHTML=" "+e.name;var h=document.createElement("span");t.appendChild(h),h.appendChild(o),h.appendChild(u);var d=e.overlay?this._overlaysList:this._baseLayersList;return d.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,n,o=[],u=[];this._handlingClick=!0;for(var h=e.length-1;h>=0;h--)t=e[h],n=this._getLayer(t.layerId).layer,t.checked?o.push(n):t.checked||u.push(n);for(h=0;h<u.length;h++)this._map.hasLayer(u[h])&&this._map.removeLayer(u[h]);for(h=0;h<o.length;h++)this._map.hasLayer(o[h])||this._map.addLayer(o[h]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,n,o=this._map.getZoom(),u=e.length-1;u>=0;u--)t=e[u],n=this._getLayer(t.layerId).layer,t.disabled=n.options.minZoom!==void 0&&o<n.options.minZoom||n.options.maxZoom!==void 0&&o>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,q(e,"click",ce),this.expand();var t=this;setTimeout(function(){U(e,"click",ce),t._preventClick=!1})}}),gd=function(e,t,n){return new lo(e,t,n)},En=Le.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=N("div",t+" leaflet-bar"),o=this.options;return this._zoomInButton=this._createButton(o.zoomInText,o.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(o.zoomOutText,o.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,o,u){var h=N("a",n,o);return h.innerHTML=e,h.href="#",h.title=t,h.setAttribute("role","button"),h.setAttribute("aria-label",t),ui(h),q(h,"click",wt),q(h,"click",u,this),q(h,"click",this._refocusOnMap,this),h},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ee(this._zoomInButton,t),ee(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(B(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(B(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});Z.mergeOptions({zoomControl:!0}),Z.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new En,this.addControl(this.zoomControl))});var yd=function(e){return new En(e)},co=Le.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=N("div",t),o=this.options;return this._addScales(o,t+"-line",n),e.on(o.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=N("div",t,n)),e.imperial&&(this._iScale=N("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t=e*3.2808399,n,o,u;t>5280?(n=t/5280,o=this._getRoundNum(n),this._updateScale(this._iScale,o+" mi",o/n)):(u=this._getRoundNum(t),this._updateScale(this._iScale,u+" ft",u/t))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}}),bd=function(e){return new co(e)},xd='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Sn=Le.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(C.inlineSvg?xd+" ":"")+"Leaflet</a>"},initialize:function(e){x(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=N("div","leaflet-control-attribution"),ui(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Z.mergeOptions({attributionControl:!0}),Z.addInitHook(function(){this.options.attributionControl&&new Sn().addTo(this)});var wd=function(e){return new Sn(e)};Le.Layers=lo,Le.Zoom=En,Le.Scale=co,Le.Attribution=Sn,li.layers=gd,li.zoom=yd,li.scale=bd,li.attribution=wd;var Ae=de.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ae.addTo=function(e,t){return e.addHandler(t,this),this};var Pd={Events:fe},ho=C.touch?"touchstart mousedown":"mousedown",Ue=gt.extend({options:{clickTolerance:3},initialize:function(e,t,n,o){x(this,o),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(q(this._dragStartTarget,ho,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ue._dragging===this&&this.finishDrag(!0),U(this._dragStartTarget,ho,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!_n(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Ue._dragging===this&&this.finishDrag();return}if(!(Ue._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Ue._dragging=this,this._preventOutline&&xn(this._element),gn(),ai(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=ro(this._element);this._startPoint=new A(t.clientX,t.clientY),this._startPos=bt(this._element),this._parentScale=wn(n);var o=e.type==="mousedown";q(document,o?"mousemove":"touchmove",this._onMove,this),q(document,o?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,n=new A(t.clientX,t.clientY)._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,ce(e),this._moved||(this.fire("dragstart"),this._moved=!0,B(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),B(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),ae(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ee(document.body,"leaflet-dragging"),this._lastTarget&&(ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),U(document,"mousemove touchmove",this._onMove,this),U(document,"mouseup touchend touchcancel",this._onUp,this),yn(),oi();var t=this._moved&&this._moving;this._moving=!1,Ue._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function fo(e,t,n){var o,u=[1,4,2,8],h,d,v,y,b,M,O,F;for(h=0,M=e.length;h<M;h++)e[h]._code=Pt(e[h],t);for(v=0;v<4;v++){for(O=u[v],o=[],h=0,M=e.length,d=M-1;h<M;d=h++)y=e[h],b=e[d],y._code&O?b._code&O||(F=Wi(b,y,O,t,n),F._code=Pt(F,t),o.push(F)):(b._code&O&&(F=Wi(b,y,O,t,n),F._code=Pt(F,t),o.push(F)),o.push(y));e=o}return e}function po(e,t){var n,o,u,h,d,v,y,b,M;if(!e||e.length===0)throw new Error("latlngs not passed");Pe(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var O=R([0,0]),F=ne(e),pe=F.getNorthWest().distanceTo(F.getSouthWest())*F.getNorthEast().distanceTo(F.getNorthWest());pe<1700&&(O=Cn(e));var ue=e.length,Te=[];for(n=0;n<ue;n++){var ye=R(e[n]);Te.push(t.project(R([ye.lat-O.lat,ye.lng-O.lng])))}for(v=y=b=0,n=0,o=ue-1;n<ue;o=n++)u=Te[n],h=Te[o],d=u.y*h.x-h.y*u.x,y+=(u.x+h.x)*d,b+=(u.y+h.y)*d,v+=d*3;v===0?M=Te[0]:M=[y/v,b/v];var qt=t.unproject(z(M));return R([qt.lat+O.lat,qt.lng+O.lng])}function Cn(e){for(var t=0,n=0,o=0,u=0;u<e.length;u++){var h=R(e[u]);t+=h.lat,n+=h.lng,o++}return R([t/o,n/o])}var Td={__proto__:null,clipPolygon:fo,polygonCenter:po,centroid:Cn};function _o(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=Md(e,n),e=Ld(e,n),e}function mo(e,t,n){return Math.sqrt(ci(e,t,n,!0))}function kd(e,t,n){return ci(e,t,n)}function Ld(e,t){var n=e.length,o=typeof Uint8Array<"u"?Uint8Array:Array,u=new o(n);u[0]=u[n-1]=1,An(e,u,t,0,n-1);var h,d=[];for(h=0;h<n;h++)u[h]&&d.push(e[h]);return d}function An(e,t,n,o,u){var h=0,d,v,y;for(v=o+1;v<=u-1;v++)y=ci(e[v],e[o],e[u],!0),y>h&&(d=v,h=y);h>n&&(t[d]=1,An(e,t,n,o,d),An(e,t,n,d,u))}function Md(e,t){for(var n=[e[0]],o=1,u=0,h=e.length;o<h;o++)Ed(e[o],e[u])>t&&(n.push(e[o]),u=o);return u<h-1&&n.push(e[h-1]),n}var vo;function go(e,t,n,o,u){var h=o?vo:Pt(e,n),d=Pt(t,n),v,y,b;for(vo=d;;){if(!(h|d))return[e,t];if(h&d)return!1;v=h||d,y=Wi(e,t,v,n,u),b=Pt(y,n),v===h?(e=y,h=b):(t=y,d=b)}}function Wi(e,t,n,o,u){var h=t.x-e.x,d=t.y-e.y,v=o.min,y=o.max,b,M;return n&8?(b=e.x+h*(y.y-e.y)/d,M=y.y):n&4?(b=e.x+h*(v.y-e.y)/d,M=v.y):n&2?(b=y.x,M=e.y+d*(y.x-e.x)/h):n&1&&(b=v.x,M=e.y+d*(v.x-e.x)/h),new A(b,M,u)}function Pt(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Ed(e,t){var n=t.x-e.x,o=t.y-e.y;return n*n+o*o}function ci(e,t,n,o){var u=t.x,h=t.y,d=n.x-u,v=n.y-h,y=d*d+v*v,b;return y>0&&(b=((e.x-u)*d+(e.y-h)*v)/y,b>1?(u=n.x,h=n.y):b>0&&(u+=d*b,h+=v*b)),d=e.x-u,v=e.y-h,o?d*d+v*v:new A(u,h)}function Pe(e){return!D(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function yo(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pe(e)}function bo(e,t){var n,o,u,h,d,v,y,b;if(!e||e.length===0)throw new Error("latlngs not passed");Pe(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var M=R([0,0]),O=ne(e),F=O.getNorthWest().distanceTo(O.getSouthWest())*O.getNorthEast().distanceTo(O.getNorthWest());F<1700&&(M=Cn(e));var pe=e.length,ue=[];for(n=0;n<pe;n++){var Te=R(e[n]);ue.push(t.project(R([Te.lat-M.lat,Te.lng-M.lng])))}for(n=0,o=0;n<pe-1;n++)o+=ue[n].distanceTo(ue[n+1])/2;if(o===0)b=ue[0];else for(n=0,h=0;n<pe-1;n++)if(d=ue[n],v=ue[n+1],u=d.distanceTo(v),h+=u,h>o){y=(h-o)/u,b=[v.x-y*(v.x-d.x),v.y-y*(v.y-d.y)];break}var ye=t.unproject(z(b));return R([ye.lat+M.lat,ye.lng+M.lng])}var Sd={__proto__:null,simplify:_o,pointToSegmentDistance:mo,closestPointOnSegment:kd,clipSegment:go,_getEdgeIntersection:Wi,_getBitCode:Pt,_sqClosestPointOnSegment:ci,isFlat:Pe,_flat:yo,polylineCenter:bo},On={project:function(e){return new A(e.lng,e.lat)},unproject:function(e){return new H(e.y,e.x)},bounds:new $([-180,-90],[180,90])},In={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,n=this.R,o=e.lat*t,u=this.R_MINOR/n,h=Math.sqrt(1-u*u),d=h*Math.sin(o),v=Math.tan(Math.PI/4-o/2)/Math.pow((1-d)/(1+d),h/2);return o=-n*Math.log(Math.max(v,1e-10)),new A(e.lng*t*n,o)},unproject:function(e){for(var t=180/Math.PI,n=this.R,o=this.R_MINOR/n,u=Math.sqrt(1-o*o),h=Math.exp(-e.y/n),d=Math.PI/2-2*Math.atan(h),v=0,y=.1,b;v<15&&Math.abs(y)>1e-7;v++)b=u*Math.sin(d),b=Math.pow((1-b)/(1+b),u/2),y=Math.PI/2-2*Math.atan(h*b)-d,d+=y;return new H(d*t,e.x*t/n)}},Cd={__proto__:null,LonLat:On,Mercator:In,SphericalMercator:an},Ad=i({},Ve,{code:"EPSG:3395",projection:In,transformation:function(){var e=.5/(Math.PI*In.R);return ti(e,.5,-e,.5)}()}),xo=i({},Ve,{code:"EPSG:4326",projection:On,transformation:ti(1/180,1,-1/180,.5)}),Od=i({},Ze,{projection:On,transformation:ti(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,o=t.lat-e.lat;return Math.sqrt(n*n+o*o)},infinite:!0});Ze.Earth=Ve,Ze.EPSG3395=Ad,Ze.EPSG3857=sn,Ze.EPSG900913=Ff,Ze.EPSG4326=xo,Ze.Simple=Od;var Me=gt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});Z.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=f(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=f(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){e=e?D(e)?e:[e]:[];for(var t=0,n=e.length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=f(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var u=this._zoomBoundLayers[o].options;e=u.minZoom===void 0?e:Math.min(e,u.minZoom),t=u.maxZoom===void 0?t:Math.max(t,u.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var At=Me.extend({initialize:function(e,t){x(this,t),this._layers={};var n,o;if(e)for(n=0,o=e.length;n<o;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),n,o;for(n in this._layers)o=this._layers[n],o[e]&&o[e].apply(o,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),Id=function(e,t){return new At(e,t)},Ne=At.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),At.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),At.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new ge;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Dd=function(e,t){return new Ne(e,t)},Ot=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){x(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var o=this._createImg(n,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(o,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o},_setIconStyles:function(e,t){var n=this.options,o=n[t+"Size"];typeof o=="number"&&(o=[o,o]);var u=z(o),h=z(t==="shadow"&&n.shadowAnchor||n.iconAnchor||u&&u.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),h&&(e.style.marginLeft=-h.x+"px",e.style.marginTop=-h.y+"px"),u&&(e.style.width=u.x+"px",e.style.height=u.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return C.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function zd(e){return new Ot(e)}var hi=Ot.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof hi.imagePath!="string"&&(hi.imagePath=this._detectIconPath()),(this.options.imagePath||hi.imagePath)+Ot.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(n,o,u){var h=o.exec(n);return h&&h[u]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=N("div","leaflet-default-icon-path",document.body),t=ni(e,"background-image")||ni(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),wo=Ae.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Ue(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),B(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,o=this._marker.options.autoPanSpeed,u=this._marker.options.autoPanPadding,h=bt(t._icon),d=n.getPixelBounds(),v=n.getPixelOrigin(),y=ve(d.min._subtract(v).add(u),d.max._subtract(v).subtract(u));if(!y.contains(h)){var b=z((Math.max(y.max.x,h.x)-y.max.x)/(d.max.x-y.max.x)-(Math.min(y.min.x,h.x)-y.min.x)/(d.min.x-y.min.x),(Math.max(y.max.y,h.y)-y.max.y)/(d.max.y-y.max.y)-(Math.min(y.min.y,h.y)-y.min.y)/(d.min.y-y.min.y)).multiplyBy(o);n.panBy(b,{animate:!1}),this._draggable._newPos._add(b),this._draggable._startPos._add(b),ae(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=W(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(re(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,o=bt(t._icon),u=t._map.layerPointToLatLng(o);n&&ae(n,o),t._latlng=u,e.latlng=u,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){re(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Vi=Me.extend({options:{icon:new hi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){x(this,t),this._latlng=R(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=R(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),o=!1;n!==this._icon&&(this._icon&&this._removeIcon(),o=!0,e.title&&(n.title=e.title),n.tagName==="IMG"&&(n.alt=e.alt||"")),B(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&q(n,"focus",this._panOnFocus,this);var u=e.icon.createShadow(this._shadow),h=!1;u!==this._shadow&&(this._removeShadow(),h=!0),u&&(B(u,t),u.alt=""),this._shadow=u,e.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),u&&h&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&U(this._icon,"focus",this._panOnFocus,this),Q(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Q(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&ae(this._icon,e),this._shadow&&ae(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(B(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),wo)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new wo(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&we(this._icon,e),this._shadow&&we(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?z(t.iconSize):z(0,0),o=t.iconAnchor?z(t.iconAnchor):z(0,0);e.panInside(this._latlng,{paddingTopLeft:o,paddingBottomRight:n.subtract(o)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qd(e,t){return new Vi(e,t)}var Xe=Me.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return x(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ui=Xe.extend({options:{fill:!0,radius:10},initialize:function(e,t){x(this,t),this._latlng=R(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=R(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Xe.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),o=[e+n,t+n];this._pxBounds=new $(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bd(e,t){return new Ui(e,t)}var Dn=Ui.extend({initialize:function(e,t,n){if(typeof t=="number"&&(t=i({},n,{radius:t})),x(this,t),this._latlng=R(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new ge(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Xe.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,o=n.options.crs;if(o.distance===Ve.distance){var u=Math.PI/180,h=this._mRadius/Ve.R/u,d=n.project([t+h,e]),v=n.project([t-h,e]),y=d.add(v).divideBy(2),b=n.unproject(y).lat,M=Math.acos((Math.cos(h*u)-Math.sin(t*u)*Math.sin(b*u))/(Math.cos(t*u)*Math.cos(b*u)))/u;(isNaN(M)||M===0)&&(M=h/Math.cos(Math.PI/180*t)),this._point=y.subtract(n.getPixelOrigin()),this._radius=isNaN(M)?0:y.x-n.project([b,e-M]).x,this._radiusY=y.y-d.y}else{var O=o.unproject(o.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(O).x}this._updateBounds()}});function Fd(e,t,n){return new Dn(e,t,n)}var je=Xe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){x(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,n=null,o=ci,u,h,d=0,v=this._parts.length;d<v;d++)for(var y=this._parts[d],b=1,M=y.length;b<M;b++){u=y[b-1],h=y[b];var O=o(e,u,h,!0);O<t&&(t=O,n=o(e,u,h))}return n&&(n.distance=Math.sqrt(t)),n},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=R(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new ge,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Pe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Pe(e),o=0,u=e.length;o<u;o++)n?(t[o]=R(e[o]),this._bounds.extend(t[o])):t[o]=this._convertLatLngs(e[o]);return t},_project:function(){var e=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new A(e,e);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var o=e[0]instanceof H,u=e.length,h,d;if(o){for(d=[],h=0;h<u;h++)d[h]=this._map.latLngToLayerPoint(e[h]),n.extend(d[h]);t.push(d)}else for(h=0;h<u;h++)this._projectLatlngs(e[h],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,n,o,u,h,d,v,y;for(n=0,u=0,h=this._rings.length;n<h;n++)for(y=this._rings[n],o=0,d=y.length;o<d-1;o++)v=go(y[o],y[o+1],e,o,!0),v&&(t[u]=t[u]||[],t[u].push(v[0]),(v[1]!==y[o+1]||o===d-2)&&(t[u].push(v[1]),u++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,o=e.length;n<o;n++)e[n]=_o(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,o,u,h,d,v,y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,h=this._parts.length;n<h;n++)for(v=this._parts[n],o=0,d=v.length,u=d-1;o<d;u=o++)if(!(!t&&o===0)&&mo(e,v[u],v[o])<=y)return!0;return!1}});function Rd(e,t){return new je(e,t)}je._flat=yo;var It=je.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return po(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=je.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof H&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){je.prototype._setLatLngs.call(this,e),Pe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new A(t,t);if(e=new $(e.min.subtract(n),e.max.add(n)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var o=0,u=this._rings.length,h;o<u;o++)h=fo(this._rings[o],e,!0),h.length&&this._parts.push(h)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,n,o,u,h,d,v,y,b;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(h=0,y=this._parts.length;h<y;h++)for(n=this._parts[h],d=0,b=n.length,v=b-1;d<b;v=d++)o=n[d],u=n[v],o.y>e.y!=u.y>e.y&&e.x<(u.x-o.x)*(e.y-o.y)/(u.y-o.y)+o.x&&(t=!t);return t||je.prototype._containsPoint.call(this,e,!0)}});function Zd(e,t){return new It(e,t)}var He=Ne.extend({initialize:function(e,t){x(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=D(e)?e:e.features,n,o,u;if(t){for(n=0,o=t.length;n<o;n++)u=t[n],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(u);return this}var h=this.options;if(h.filter&&!h.filter(e))return this;var d=Xi(e,h);return d?(d.feature=$i(e),d.defaultOptions=d.options,this.resetStyle(d),h.onEachFeature&&h.onEachFeature(e,d),this.addLayer(d)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=i({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function Xi(e,t){var n=e.type==="Feature"?e.geometry:e,o=n?n.coordinates:null,u=[],h=t&&t.pointToLayer,d=t&&t.coordsToLatLng||zn,v,y,b,M;if(!o&&!n)return null;switch(n.type){case"Point":return v=d(o),Po(h,e,v,t);case"MultiPoint":for(b=0,M=o.length;b<M;b++)v=d(o[b]),u.push(Po(h,e,v,t));return new Ne(u);case"LineString":case"MultiLineString":return y=Ki(o,n.type==="LineString"?0:1,d),new je(y,t);case"Polygon":case"MultiPolygon":return y=Ki(o,n.type==="Polygon"?1:2,d),new It(y,t);case"GeometryCollection":for(b=0,M=n.geometries.length;b<M;b++){var O=Xi({geometry:n.geometries[b],type:"Feature",properties:e.properties},t);O&&u.push(O)}return new Ne(u);case"FeatureCollection":for(b=0,M=n.features.length;b<M;b++){var F=Xi(n.features[b],t);F&&u.push(F)}return new Ne(u);default:throw new Error("Invalid GeoJSON object.")}}function Po(e,t,n,o){return e?e(t,n):new Vi(n,o&&o.markersInheritOptions&&o)}function zn(e){return new H(e[1],e[0],e[2])}function Ki(e,t,n){for(var o=[],u=0,h=e.length,d;u<h;u++)d=t?Ki(e[u],t-1,n):(n||zn)(e[u]),o.push(d);return o}function qn(e,t){return e=R(e),e.alt!==void 0?[T(e.lng,t),T(e.lat,t),T(e.alt,t)]:[T(e.lng,t),T(e.lat,t)]}function Ji(e,t,n,o){for(var u=[],h=0,d=e.length;h<d;h++)u.push(t?Ji(e[h],Pe(e[h])?0:t-1,n,o):qn(e[h],o));return!t&&n&&u.length>0&&u.push(u[0].slice()),u}function Dt(e,t){return e.feature?i({},e.feature,{geometry:t}):$i(t)}function $i(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Bn={toGeoJSON:function(e){return Dt(this,{type:"Point",coordinates:qn(this.getLatLng(),e)})}};Vi.include(Bn),Dn.include(Bn),Ui.include(Bn),je.include({toGeoJSON:function(e){var t=!Pe(this._latlngs),n=Ji(this._latlngs,t?1:0,!1,e);return Dt(this,{type:(t?"Multi":"")+"LineString",coordinates:n})}}),It.include({toGeoJSON:function(e){var t=!Pe(this._latlngs),n=t&&!Pe(this._latlngs[0]),o=Ji(this._latlngs,n?2:t?1:0,!0,e);return t||(o=[o]),Dt(this,{type:(n?"Multi":"")+"Polygon",coordinates:o})}}),At.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),Dt(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var n=t==="GeometryCollection",o=[];return this.eachLayer(function(u){if(u.toGeoJSON){var h=u.toGeoJSON(e);if(n)o.push(h.geometry);else{var d=$i(h);d.type==="FeatureCollection"?o.push.apply(o,d.features):o.push(d)}}}),n?Dt(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o}}});function To(e,t){return new He(e,t)}var Nd=To,Qi=Me.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=ne(t),x(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(B(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Q(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&St(this._image),this},bringToBack:function(){return this._map&&Ct(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ne(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:N("img");if(B(t,"leaflet-image-layer"),this._zoomAnimated&&B(t,"leaflet-zoom-animated"),this.options.className&&B(t,this.options.className),t.onselectstart=g,t.onmousemove=g,t.onload=c(this.fire,this,"load"),t.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;yt(this._image,n,t)},_reset:function(){var e=this._image,t=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();ae(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){we(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),jd=function(e,t,n){return new Qi(e,t,n)},ko=Qi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:N("video");if(B(t,"leaflet-image-layer"),this._zoomAnimated&&B(t,"leaflet-zoom-animated"),this.options.className&&B(t,this.options.className),t.onselectstart=g,t.onmousemove=g,t.onloadeddata=c(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),o=[],u=0;u<n.length;u++)o.push(n[u].src);this._url=n.length>0?o:[t.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var h=0;h<this._url.length;h++){var d=N("source");d.src=this._url[h],t.appendChild(d)}}});function Hd(e,t,n){return new ko(e,t,n)}var Lo=Qi.extend({_initImage:function(){var e=this._image=this._url;B(e,"leaflet-image-layer"),this._zoomAnimated&&B(e,"leaflet-zoom-animated"),this.options.className&&B(e,this.options.className),e.onselectstart=g,e.onmousemove=g}});function Gd(e,t,n){return new Lo(e,t,n)}var Oe=Me.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof H||D(e))?(this._latlng=R(e),x(this,t)):(x(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&we(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&we(this._container,1),this.bringToFront(),this.options.interactive&&(B(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(we(this._container,0),this._removeTimeout=setTimeout(c(Q,void 0,this._container),200)):Q(this._container),this.options.interactive&&(ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=R(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&St(this._container),this},bringToBack:function(){return this._map&&Ct(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Ne){t=null;var n=this._source._layers;for(var o in n)if(n[o]._map){t=n[o];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=z(this.options.offset),n=this._getAnchor();this._zoomAnimated?ae(this._container,e.add(n)):t=t.add(e).add(n);var o=this._containerBottom=-t.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=o+"px",this._container.style.left=u+"px"}},_getAnchor:function(){return[0,0]}});Z.include({_initOverlay:function(e,t,n,o){var u=t;return u instanceof e||(u=new e(o).setContent(t)),n&&u.setLatLng(n),u}}),Me.include({_initOverlay:function(e,t,n,o){var u=n;return u instanceof e?(x(u,o),u._source=this):(u=t&&!o?t:new e(o,this),u.setContent(n)),u}});var er=Oe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Oe.prototype.openOn.call(this,e)},onAdd:function(e){Oe.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xe||this._source.on("preclick",xt))},onRemove:function(e){Oe.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xe||this._source.off("preclick",xt))},getEvents:function(){var e=Oe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=N("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=N("div",e+"-content-wrapper",t);if(this._contentNode=N("div",e+"-content",n),ui(t),Ln(this._contentNode),q(t,"contextmenu",xt),this._tipContainer=N("div",e+"-tip-container",t),this._tip=N("div",e+"-tip",this._tipContainer),this.options.closeButton){var o=this._closeButton=N("a",e+"-close-button",t);o.setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',q(o,"click",function(u){ce(u),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var o=e.offsetHeight,u=this.options.maxHeight,h="leaflet-popup-scrolled";u&&o>u?(t.height=u+"px",B(e,h)):ee(e,h),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();ae(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt(ni(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,o=this._containerWidth,u=new A(this._containerLeft,-n-this._containerBottom);u._add(bt(this._container));var h=e.layerPointToContainerPoint(u),d=z(this.options.autoPanPadding),v=z(this.options.autoPanPaddingTopLeft||d),y=z(this.options.autoPanPaddingBottomRight||d),b=e.getSize(),M=0,O=0;h.x+o+y.x>b.x&&(M=h.x+o-b.x+y.x),h.x-M-v.x<0&&(M=h.x-v.x),h.y+n+y.y>b.y&&(O=h.y+n-b.y+y.y),h.y-O-v.y<0&&(O=h.y-v.y),(M||O)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([M,O]))}},_getAnchor:function(){return z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yd=function(e,t){return new er(e,t)};Z.mergeOptions({closePopupOnClick:!0}),Z.include({openPopup:function(e,t,n){return this._initOverlay(er,e,t,n).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Me.include({bindPopup:function(e,t){return this._popup=this._initOverlay(er,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Ne||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){wt(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof Xe)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var tr=Oe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Oe.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Oe.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Oe.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=N("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,o=this._map,u=this._container,h=o.latLngToContainerPoint(o.getCenter()),d=o.layerPointToContainerPoint(e),v=this.options.direction,y=u.offsetWidth,b=u.offsetHeight,M=z(this.options.offset),O=this._getAnchor();v==="top"?(t=y/2,n=b):v==="bottom"?(t=y/2,n=0):v==="center"?(t=y/2,n=b/2):v==="right"?(t=0,n=b/2):v==="left"?(t=y,n=b/2):d.x<h.x?(v="right",t=0,n=b/2):(v="left",t=y+(M.x+O.x)*2,n=b/2),e=e.subtract(z(t,n,!0)).add(M).add(O),ee(u,"leaflet-tooltip-right"),ee(u,"leaflet-tooltip-left"),ee(u,"leaflet-tooltip-top"),ee(u,"leaflet-tooltip-bottom"),B(u,"leaflet-tooltip-"+v),ae(u,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&we(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wd=function(e,t){return new tr(e,t)};Z.include({openTooltip:function(e,t,n){return this._initOverlay(tr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Me.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(tr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Ne||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&(q(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),q(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,n,o;this._tooltip.options.sticky&&e.originalEvent&&(n=this._map.mouseEventToContainerPoint(e.originalEvent),o=this._map.containerPointToLayerPoint(n),t=this._map.layerPointToLatLng(o)),this._tooltip.setLatLng(t)}});var Mo=Ot.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(Ni(t),t.appendChild(n.html)):t.innerHTML=n.html!==!1?n.html:"",n.bgPos){var o=z(n.bgPos);t.style.backgroundPosition=-o.x+"px "+-o.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Vd(e){return new Mo(e)}Ot.Default=hi;var fi=Me.extend({options:{tileSize:256,opacity:1,updateWhenIdle:C.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){x(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Q(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(St(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ct(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof A?e:new A(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,n=-e(-1/0,1/0),o=0,u=t.length,h;o<u;o++)h=t[o].style.zIndex,t[o]!==this._container&&h&&(n=e(n,+h));isFinite(n)&&(this.options.zIndex=n+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!C.ielt9){we(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var o in this._tiles){var u=this._tiles[o];if(!(!u.current||!u.loaded)){var h=Math.min(1,(e-u.loaded)/200);we(u.el,h),h<1?t=!0:(u.active?n=!0:this._onOpaqueTile(u),u.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(re(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=N("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(Q(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var o=this._levels[e],u=this._map;return o||(o=this._levels[e]={},o.el=N("div","leaflet-tile-container leaflet-zoom-animated",this._container),o.el.style.zIndex=t,o.origin=u.project(u.unproject(u.getPixelOrigin()),e).round(),o.zoom=e,this._setZoomTransform(o,u.getCenter(),u.getZoom()),g(o.el.offsetWidth),this._onCreateLevel(o)),this._level=o,o}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var o=t.coords;this._retainParent(o.x,o.y,o.z,o.z-5)||this._retainChildren(o.x,o.y,o.z,o.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Q(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,o){var u=Math.floor(e/2),h=Math.floor(t/2),d=n-1,v=new A(+u,+h);v.z=+d;var y=this._tileCoordsToKey(v),b=this._tiles[y];return b&&b.active?(b.retain=!0,!0):(b&&b.loaded&&(b.retain=!0),d>o?this._retainParent(u,h,d,o):!1)},_retainChildren:function(e,t,n,o){for(var u=2*e;u<2*e+2;u++)for(var h=2*t;h<2*t+2;h++){var d=new A(u,h);d.z=n+1;var v=this._tileCoordsToKey(d),y=this._tiles[v];if(y&&y.active){y.retain=!0;continue}else y&&y.loaded&&(y.retain=!0);n+1<o&&this._retainChildren(u,h,n+1,o)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,o){var u=Math.round(t);this.options.maxZoom!==void 0&&u>this.options.maxZoom||this.options.minZoom!==void 0&&u<this.options.minZoom?u=void 0:u=this._clampZoom(u);var h=this.options.updateWhenZooming&&u!==this._tileZoom;(!o||h)&&(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),u!==void 0&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var o=this._map.getZoomScale(n,e.zoom),u=e.origin.multiplyBy(o).subtract(this._map._getNewPixelOrigin(t,n)).round();C.any3d?yt(e.el,u,o):ae(e.el,u)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),o=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],o).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],o).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],o).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],o).y/n.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),o=t.getZoomScale(n,this._tileZoom),u=t.project(e,this._tileZoom).floor(),h=t.getSize().divideBy(o*2);return new $(u.subtract(h),u.add(h))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var o=this._getTiledPixelBounds(e),u=this._pxBoundsToTileRange(o),h=u.getCenter(),d=[],v=this.options.keepBuffer,y=new $(u.getBottomLeft().subtract([v,-v]),u.getTopRight().add([v,-v]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var b in this._tiles){var M=this._tiles[b].coords;(M.z!==this._tileZoom||!y.contains(new A(M.x,M.y)))&&(this._tiles[b].current=!1)}if(Math.abs(n-this._tileZoom)>1){this._setView(e,n);return}for(var O=u.min.y;O<=u.max.y;O++)for(var F=u.min.x;F<=u.max.x;F++){var pe=new A(F,O);if(pe.z=this._tileZoom,!!this._isValidTile(pe)){var ue=this._tiles[this._tileCoordsToKey(pe)];ue?ue.current=!0:d.push(pe)}}if(d.sort(function(ye,qt){return ye.distanceTo(h)-qt.distanceTo(h)}),d.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Te=document.createDocumentFragment();for(F=0;F<d.length;F++)this._addTile(d[F],Te);this._level.el.appendChild(Te)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var o=this._tileCoordsToBounds(e);return ne(this.options.bounds).overlaps(o)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),o=e.scaleBy(n),u=o.add(n),h=t.unproject(o,e.z),d=t.unproject(u,e.z);return[h,d]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new ge(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new A(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(Q(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){B(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=g,e.onmousemove=g,C.ielt9&&this.options.opacity<1&&we(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),o=this._tileCoordsToKey(e),u=this.createTile(this._wrapCoords(e),c(this._tileReady,this,e));this._initTile(u),this.createTile.length<2&&W(c(this._tileReady,this,e,null,u)),ae(u,n),this._tiles[o]={el:u,coords:e,current:!0},t.appendChild(u),this.fire("tileloadstart",{tile:u,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var o=this._tileCoordsToKey(e);n=this._tiles[o],n&&(n.loaded=+new Date,this._map._fadeAnimated?(we(n.el,0),re(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(B(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),C.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new A(this._wrapX?p(e.x,this._wrapX):e.x,this._wrapY?p(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new $(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Ud(e){return new fi(e)}var zt=fi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=x(this,t),t.detectRetina&&C.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return q(n,"load",c(this._tileOnLoad,this,t,n)),q(n,"error",c(this._tileOnError,this,t,n)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:C.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=n),t["-y"]=n}return S(this._url,i(t,this.options))},_tileOnLoad:function(e,t){C.ielt9?setTimeout(c(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var o=this.options.errorTileUrl;o&&t.getAttribute("src")!==o&&(t.src=o),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,n=this.options.zoomReverse,o=this.options.zoomOffset;return n&&(e=t-e),e+o},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=g,t.onerror=g,!t.complete)){t.src=Y;var n=this._tiles[e].coords;Q(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",Y),fi.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(!(!this._map||n&&n.getAttribute("src")===Y))return fi.prototype._tileReady.call(this,e,t,n)}});function Eo(e,t){return new zt(e,t)}var So=zt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var n=i({},this.defaultWmsParams);for(var o in t)o in this.options||(n[o]=t[o]);t=x(this,t);var u=t.detectRetina&&C.retina?2:1,h=this.getTileSize();n.width=h.x*u,n.height=h.y*u,this.wmsParams=n},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,zt.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,o=ve(n.project(t[0]),n.project(t[1])),u=o.min,h=o.max,d=(this._wmsVersion>=1.3&&this._crs===xo?[u.y,u.x,h.y,h.x]:[u.x,u.y,h.x,h.y]).join(","),v=zt.prototype.getTileUrl.call(this,e);return v+E(this.wmsParams,v,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+d},setParams:function(e,t){return i(this.wmsParams,e),t||this.redraw(),this}});function Xd(e,t){return new So(e,t)}zt.WMS=So,Eo.wms=Xd;var Ge=Me.extend({options:{padding:.1},initialize:function(e){x(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),B(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),u=this._map.project(this._center,t),h=o.multiplyBy(-n).add(u).subtract(this._map._getNewPixelOrigin(e,t));C.any3d?yt(this._container,h,n):ae(this._container,h)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new $(n,n.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Co=Ge.extend({options:{tolerance:0},getEvents:function(){var e=Ge.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ge.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");q(e,"mousemove",this._onMouseMove,this),q(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),q(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){re(this._redrawRequest),delete this._ctx,Q(this._container),U(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ge.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),o=C.retina?2:1;ae(t,e.min),t.width=o*n.x,t.height=o*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",C.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ge.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,o=t.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),n=[],o,u;for(u=0;u<t.length;u++){if(o=Number(t[u]),isNaN(o))return;n.push(o)}e.options._dashArray=n}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var o=this._drawFirst;o;o=o.next)e=o.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,o,u,h,d=e._parts,v=d.length,y=this._ctx;if(v){for(y.beginPath(),n=0;n<v;n++){for(o=0,u=d[n].length;o<u;o++)h=d[n][o],y[o?"lineTo":"moveTo"](h.x,h.y);t&&y.closePath()}this._fillStroke(y,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,n=this._ctx,o=Math.max(Math.round(e._radius),1),u=(Math.max(Math.round(e._radiusY),1)||o)/o;u!==1&&(n.save(),n.scale(1,u)),n.beginPath(),n.arc(t.x,t.y/u,o,0,Math.PI*2,!1),u!==1&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&n.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),n,o,u=this._drawFirst;u;u=u.next)n=u.layer,n.options.interactive&&n._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(n))&&(o=n);this._fireEvent(o?[o]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ee(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,o,u=this._drawFirst;u;u=u.next)n=u.layer,n.options.interactive&&n._containsPoint(t)&&(o=n);o!==this._hoveredLayer&&(this._handleMouseOut(e),o&&(B(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseover"),this._hoveredLayer=o)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,o=t.prev;if(n)n.prev=o;else return;o?o.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,o=t.prev;if(o)o.next=n;else return;n?n.prev=o:o&&(this._drawLast=o),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function Ao(e){return C.canvas?new Co(e):null}var di=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Kd={_initContainer:function(){this._container=N("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ge.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=di("shape");B(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=di("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;Q(t),e.removeInteractiveTarget(t),delete this._layers[f(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,o=e.options,u=e._container;u.stroked=!!o.stroke,u.filled=!!o.fill,o.stroke?(t||(t=e._stroke=di("stroke")),u.appendChild(t),t.weight=o.weight+"px",t.color=o.color,t.opacity=o.opacity,o.dashArray?t.dashStyle=D(o.dashArray)?o.dashArray.join(" "):o.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=o.lineCap.replace("butt","flat"),t.joinstyle=o.lineJoin):t&&(u.removeChild(t),e._stroke=null),o.fill?(n||(n=e._fill=di("fill")),u.appendChild(n),n.color=o.fillColor||o.color,n.opacity=o.fillOpacity):n&&(u.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),o=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+o+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){St(e._container)},_bringToBack:function(e){Ct(e._container)}},ir=C.vml?di:Da,pi=Ge.extend({_initContainer:function(){this._container=ir("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ir("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Q(this._container),U(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ge.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),ae(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=ir("path");e.options.className&&B(t,e.options.className),e.options.interactive&&B(t,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Q(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,za(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),o=Math.max(Math.round(e._radiusY),1)||n,u="a"+n+","+o+" 0 1,0 ",h=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+u+n*2+",0 "+u+-n*2+",0 ";this._setPath(e,h)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){St(e._path)},_bringToBack:function(e){Ct(e._path)}});C.vml&&pi.include(Kd);function Oo(e){return C.svg||C.vml?new pi(e):null}Z.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Ao(e)||Oo(e)}});var Io=It.extend({initialize:function(e,t){It.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ne(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Jd(e,t){return new Io(e,t)}pi.create=ir,pi.pointsToPath=za,He.geometryToLayer=Xi,He.coordsToLatLng=zn,He.coordsToLatLngs=Ki,He.latLngToCoords=qn,He.latLngsToCoords=Ji,He.getFeature=Dt,He.asFeature=$i,Z.mergeOptions({boxZoom:!0});var Do=Ae.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){q(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){U(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Q(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ai(),gn(),this._startPoint=this._map.mouseEventToContainerPoint(e),q(document,{contextmenu:wt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=N("div","leaflet-zoom-box",this._container),B(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new $(this._point,this._startPoint),n=t.getSize();ae(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(Q(this._box),ee(this._container,"leaflet-crosshair")),oi(),yn(),U(document,{contextmenu:wt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var t=new ge(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Z.addInitHook("addHandler","boxZoom",Do),Z.mergeOptions({doubleClickZoom:!0});var zo=Ae.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),o=t.options.zoomDelta,u=e.originalEvent.shiftKey?n-o:n+o;t.options.doubleClickZoom==="center"?t.setZoom(u):t.setZoomAround(e.containerPoint,u)}});Z.addInitHook("addHandler","doubleClickZoom",zo),Z.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qo=Ae.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Ue(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}B(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ee(this._map._container,"leaflet-grab"),ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=ne(this._map.options.maxBounds);this._offsetLimit=ve(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,o=this._draggable._newPos.x,u=(o-t+n)%e+t-n,h=(o+t+n)%e-t-n,d=Math.abs(u+n)<Math.abs(h+n)?u:h;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=d},_onDragEnd:function(e){var t=this._map,n=t.options,o=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),o)t.fire("moveend");else{this._prunePositions(+new Date);var u=this._lastPos.subtract(this._positions[0]),h=(this._lastTime-this._times[0])/1e3,d=n.easeLinearity,v=u.multiplyBy(d/h),y=v.distanceTo([0,0]),b=Math.min(n.inertiaMaxSpeed,y),M=v.multiplyBy(b/y),O=b/(n.inertiaDeceleration*d),F=M.multiplyBy(-O/2).round();!F.x&&!F.y?t.fire("moveend"):(F=t._limitOffset(F,t.options.maxBounds),W(function(){t.panBy(F,{duration:O,easeLinearity:d,noMoveStart:!0,animate:!0})}))}}});Z.addInitHook("addHandler","dragging",qo),Z.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bo=Ae.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),q(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),U(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,o=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(o,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},n=this.keyCodes,o,u;for(o=0,u=n.left.length;o<u;o++)t[n.left[o]]=[-1*e,0];for(o=0,u=n.right.length;o<u;o++)t[n.right[o]]=[e,0];for(o=0,u=n.down.length;o<u;o++)t[n.down[o]]=[0,e];for(o=0,u=n.up.length;o<u;o++)t[n.up[o]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},n=this.keyCodes,o,u;for(o=0,u=n.zoomIn.length;o<u;o++)t[n.zoomIn[o]]=e;for(o=0,u=n.zoomOut.length;o<u;o++)t[n.zoomOut[o]]=-e},_addHooks:function(){q(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){U(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,n=this._map,o;if(t in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(o=this._panKeys[t],e.shiftKey&&(o=z(o).multiplyBy(3)),n.options.maxBounds&&(o=n._limitOffset(z(o),n.options.maxBounds)),n.options.worldCopyJump){var u=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(o)));n.panTo(u)}else n.panBy(o)}else if(t in this._zoomKeys)n.setZoom(n.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&n._popup&&n._popup.options.closeOnEscapeKey)n.closePopup();else return;wt(e)}}});Z.addInitHook("addHandler","keyboard",Bo),Z.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fo=Ae.extend({addHooks:function(){q(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){U(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=so(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var o=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),o),wt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var o=this._delta/(this._map.options.wheelPxPerZoomLevel*4),u=4*Math.log(2/(1+Math.exp(-Math.abs(o))))/Math.LN2,h=n?Math.ceil(u/n)*n:u,d=e._limitZoom(t+(this._delta>0?h:-h))-t;this._delta=0,this._startTime=null,d&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+d):e.setZoomAround(this._lastMousePos,t+d))}});Z.addInitHook("addHandler","scrollWheelZoom",Fo);var $d=600;Z.mergeOptions({tapHold:C.touchNative&&C.safari&&C.mobile,tapTolerance:15});var Ro=Ae.extend({addHooks:function(){q(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){U(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new A(t.clientX,t.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(q(document,"touchend",ce),q(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),$d),q(document,"touchend touchcancel contextmenu",this._cancel,this),q(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){U(document,"touchend",ce),U(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),U(document,"touchend touchcancel contextmenu",this._cancel,this),U(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new A(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});Z.addInitHook("addHandler","tapHold",Ro),Z.mergeOptions({touchZoom:C.touch,bounceAtZoomLimits:!0});var Zo=Ae.extend({addHooks:function(){B(this._map._container,"leaflet-touch-zoom"),q(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ee(this._map._container,"leaflet-touch-zoom"),U(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var n=t.mouseEventToContainerPoint(e.touches[0]),o=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),q(document,"touchmove",this._onTouchMove,this),q(document,"touchend touchcancel",this._onTouchEnd,this),ce(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),o=t.mouseEventToContainerPoint(e.touches[1]),u=n.distanceTo(o)/this._startDist;if(this._zoom=t.getScaleZoom(u,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&u<1||this._zoom>t.getMaxZoom()&&u>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,u===1)return}else{var h=n._add(o)._divideBy(2)._subtract(this._centerPoint);if(u===1&&h.x===0&&h.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(h),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),re(this._animRequest);var d=c(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(d,this,!0),ce(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,re(this._animRequest),U(document,"touchmove",this._onTouchMove,this),U(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Z.addInitHook("addHandler","touchZoom",Zo),Z.BoxZoom=Do,Z.DoubleClickZoom=zo,Z.Drag=qo,Z.Keyboard=Bo,Z.ScrollWheelZoom=Fo,Z.TapHold=Ro,Z.TouchZoom=Zo,r.Bounds=$,r.Browser=C,r.CRS=Ze,r.Canvas=Co,r.Circle=Dn,r.CircleMarker=Ui,r.Class=de,r.Control=Le,r.DivIcon=Mo,r.DivOverlay=Oe,r.DomEvent=md,r.DomUtil=pd,r.Draggable=Ue,r.Evented=gt,r.FeatureGroup=Ne,r.GeoJSON=He,r.GridLayer=fi,r.Handler=Ae,r.Icon=Ot,r.ImageOverlay=Qi,r.LatLng=H,r.LatLngBounds=ge,r.Layer=Me,r.LayerGroup=At,r.LineUtil=Sd,r.Map=Z,r.Marker=Vi,r.Mixin=Pd,r.Path=Xe,r.Point=A,r.PolyUtil=Td,r.Polygon=It,r.Polyline=je,r.Popup=er,r.PosAnimation=uo,r.Projection=Cd,r.Rectangle=Io,r.Renderer=Ge,r.SVG=pi,r.SVGOverlay=Lo,r.TileLayer=zt,r.Tooltip=tr,r.Transformation=on,r.Util=vt,r.VideoOverlay=ko,r.bind=c,r.bounds=ve,r.canvas=Ao,r.circle=Fd,r.circleMarker=Bd,r.control=li,r.divIcon=Vd,r.extend=i,r.featureGroup=Dd,r.geoJSON=To,r.geoJson=Nd,r.gridLayer=Ud,r.icon=zd,r.imageOverlay=jd,r.latLng=R,r.latLngBounds=ne,r.layerGroup=Id,r.map=vd,r.marker=qd,r.point=z,r.polygon=Zd,r.polyline=Rd,r.popup=Yd,r.rectangle=Jd,r.setOptions=x,r.stamp=f,r.svg=Oo,r.svgOverlay=Gd,r.tileLayer=Eo,r.tooltip=Wd,r.transformation=ti,r.version=a,r.videoOverlay=Hd;var Qd=window.L;r.noConflict=function(){return window.L=Qd,this},window.L=r})});var Rn=m(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.default=void 0;var IP=sr.default={verbose:!1}});var es=m(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.default=void 0;var zP=ur.default=function(a){var i,s={};return a.forEach(function(c){var l=c[0],f=c[1];switch(f){case"$MEASUREMENT":{i="measurement";break}case"$INSUNITS":{i="insUnits";break}case"$EXTMIN":s.extMin={},i="extMin";break;case"$EXTMAX":s.extMax={},i="extMax";break;case"$DIMASZ":s.dimArrowSize={},i="dimArrowSize";break;default:switch(i){case"extMin":case"extMax":{switch(l){case 10:s[i].x=f;break;case 20:s[i].y=f;break;case 30:s[i].z=f,i=void 0;break}break}case"measurement":case"insUnits":{switch(l){case 70:{s[i]=f,i=void 0;break}}break}case"dimArrowSize":{switch(l){case 40:{s[i]=f,i=void 0;break}}break}}}}),s}});var Ie=m(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.default=void 0;var ts=fp(Rn());function fp(r){return r&&r.__esModule?r:{default:r}}function dp(){ts.default.verbose&&console.info.apply(void 0,arguments)}function pp(){ts.default.verbose&&console.warn.apply(void 0,arguments)}function _p(){console.error.apply(void 0,arguments)}var BP=lr.default={info:dp,warn:pp,error:_p}});var is=m(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.default=void 0;var mp=vp(Ie());function vp(r){return r&&r.__esModule?r:{default:r}}var gp=function(a){var i=null,s=null;return a.reduce(function(c,l){var f=l[0],_=l[1];switch(f){case 2:c.name=_;break;case 3:c.description=_;break;case 70:c.flag=_;break;case 72:c.alignment=_;break;case 73:c.elementCount=parseInt(_);break;case 40:c.patternLength=_;break;case 49:i=Object.create({scales:[],offset:[]}),i.length=_,c.pattern.push(i);break;case 74:i.shape=_;break;case 75:i.shapeNumber=_;break;case 340:i.styleHandle=_;break;case 46:i.scales.push(_);break;case 50:i.rotation=_;break;case 44:s=Object.create({x:_,y:0}),i.offset.push(s);break;case 45:s.y=_;break;case 9:i.text=_;break;default:}return c},{type:"LTYPE",pattern:[]})},yp=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 2:i.name=l;break;case 6:i.lineTypeName=l;break;case 62:i.colorNumber=l;break;case 70:i.flags=l;break;case 290:i.plot=parseInt(l)!==0;break;case 370:i.lineWeightEnum=l;break;default:}return i},{type:"LAYER"})},bp=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 2:i.name=l;break;case 6:i.lineTypeName=l;break;case 40:i.fixedTextHeight=l;break;case 41:i.widthFactor=l;break;case 50:i.obliqueAngle=l;break;case 71:i.flags=l;break;case 42:i.lastHeightUsed=l;break;case 3:i.primaryFontFileName=l;break;case 4:i.bigFontFileName=l;break;default:}return i},{type:"STYLE"})},xp=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 2:i.name=l;break;case 5:i.handle=l;break;case 70:i.flags=l;break;case 10:i.lowerLeft.x=parseFloat(l);break;case 20:i.lowerLeft.y=parseFloat(l);break;case 11:i.upperRight.x=parseFloat(l);break;case 21:i.upperRight.y=parseFloat(l);break;case 12:i.center.x=parseFloat(l);break;case 22:i.center.y=parseFloat(l);break;case 14:i.snapSpacing.x=parseFloat(l);break;case 24:i.snapSpacing.y=parseFloat(l);break;case 15:i.gridSpacing.x=parseFloat(l);break;case 25:i.gridSpacing.y=parseFloat(l);break;case 16:i.direction.x=parseFloat(l);break;case 26:i.direction.y=parseFloat(l);break;case 36:i.direction.z=parseFloat(l);break;case 17:i.target.x=parseFloat(l);break;case 27:i.target.y=parseFloat(l);break;case 37:i.target.z=parseFloat(l);break;case 45:i.height=parseFloat(l);break;case 50:i.snapAngle=parseFloat(l);break;case 51:i.angle=parseFloat(l);break;case 110:i.x=parseFloat(l);break;case 120:i.y=parseFloat(l);break;case 130:i.z=parseFloat(l);break;case 111:i.xAxisX=parseFloat(l);break;case 121:i.xAxisY=parseFloat(l);break;case 131:i.xAxisZ=parseFloat(l);break;case 112:i.xAxisX=parseFloat(l);break;case 122:i.xAxisY=parseFloat(l);break;case 132:i.xAxisZ=parseFloat(l);break;case 146:i.elevation=parseFloat(l);break;default:}return i},{type:"VPORT",center:{},lowerLeft:{},upperRight:{},snap:{},snapSpacing:{},gridSpacing:{},direction:{},target:{}})},cr=function(a,i,s){var c=[],l;return a.forEach(function(f){var _=f[0],p=f[1];(_===0||_===2)&&p===i?(l=[],c.push(l)):l.push(f)}),c.reduce(function(f,_){var p=s(_);return p.name?f[p.name]=p:mp.default.warn("table row without name:",p),f},{})},RP=hr.default=function(a){var i=[],s;a.forEach(function(p){var g=p[1];g==="TABLE"?(s=[],i.push(s)):g==="ENDTAB"?i.push(s):s.push(p)});var c=[],l=[],f=[],_=[];return i.forEach(function(p){p[0][1]==="STYLE"?c=p:p[0][1]==="LTYPE"?_=p:p[0][1]==="LAYER"?l=p:p[0][1]==="VPORT"&&(f=p)}),{layers:cr(l,"LAYER",yp),styles:cr(c,"STYLE",bp),vports:cr(f,"VPORT",xp),ltypes:cr(_,"LTYPE",gp)}}});var le=m(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.default=void 0;var NP=fr.default=function(a,i){switch(a){case 5:return{handle:i};case 6:return{lineTypeName:i};case 8:return{layer:i};case 48:return{lineTypeScale:i};case 60:return{visible:i===0};case 62:return{colorNumber:i};case 67:return i===0?{}:{paperSpace:i};case 68:return{viewportOn:i};case 69:return{viewport:i};case 210:return{extrusionX:i};case 220:return{extrusionY:i};case 230:return{extrusionZ:i};case 410:return{layout:i};default:return{}}}});var ns=m(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.process=Ke.default=Ke.TYPE=void 0;var wp=Pp(le());function Pp(r){return r&&r.__esModule?r:{default:r}}var rs=Ke.TYPE="POINT",Tp=Ke.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 10:i.x=l;break;case 20:i.y=l;break;case 30:i.z=l;break;case 39:i.thickness=l;break;default:Object.assign(i,(0,wp.default)(c,l));break}return i},{type:rs})},HP=Ke.default={TYPE:rs,process:Tp}});var os=m(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.process=Je.default=Je.TYPE=void 0;var kp=Lp(le());function Lp(r){return r&&r.__esModule?r:{default:r}}var as=Je.TYPE="LINE",Mp=Je.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 10:i.start.x=l;break;case 20:i.start.y=l;break;case 30:i.start.z=l;break;case 39:i.thickness=l;break;case 11:i.end.x=l;break;case 21:i.end.y=l;break;case 31:i.end.z=l;break;default:Object.assign(i,(0,kp.default)(c,l));break}return i},{type:as,start:{},end:{}})},YP=Je.default={TYPE:as,process:Mp}});var us=m($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.process=$e.default=$e.TYPE=void 0;var Ep=Sp(le());function Sp(r){return r&&r.__esModule?r:{default:r}}var ss=$e.TYPE="LWPOLYLINE",Cp=$e.process=function(a){var i;return a.reduce(function(s,c){var l=c[0],f=c[1];switch(l){case 70:s.closed=(f&1)===1;break;case 10:i={x:f,y:0},s.vertices.push(i);break;case 20:i.y=f;break;case 39:s.thickness=f;break;case 42:i.bulge=f;break;default:Object.assign(s,(0,Ep.default)(l,f));break}return s},{type:ss,vertices:[]})},VP=$e.default={TYPE:ss,process:Cp}});var cs=m(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.process=Qe.default=Qe.TYPE=void 0;var Ap=Op(le());function Op(r){return r&&r.__esModule?r:{default:r}}var ls=Qe.TYPE="POLYLINE",Ip=Qe.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 70:i.closed=(l&1)===1,i.polygonMesh=(l&16)===16,i.polyfaceMesh=(l&64)===64;break;case 39:i.thickness=l;break;default:Object.assign(i,(0,Ap.default)(c,l));break}return i},{type:ls,vertices:[]})},XP=Qe.default={TYPE:ls,process:Ip}});var hs=m(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.process=et.default=et.TYPE=void 0;var Dp=et.TYPE="VERTEX",dr=function(a){a.faces=a.faces||[],"x"in a&&!a.x&&delete a.x,"y"in a&&!a.y&&delete a.y,"z"in a&&!a.z&&delete a.z},zp=et.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 10:i.x=l;break;case 20:i.y=l;break;case 30:i.z=l;break;case 42:i.bulge=l;break;case 71:dr(i),i.faces[0]=l;break;case 72:dr(i),i.faces[1]=l;break;case 73:dr(i),i.faces[2]=l;break;case 74:dr(i),i.faces[3]=l;break;default:break}return i},{})},JP=et.default={TYPE:Dp,process:zp}});var ds=m(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.process=tt.default=tt.TYPE=void 0;var qp=Bp(le());function Bp(r){return r&&r.__esModule?r:{default:r}}var fs=tt.TYPE="CIRCLE",Fp=tt.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 10:i.x=l;break;case 20:i.y=l;break;case 30:i.z=l;break;case 40:i.r=l;break;default:Object.assign(i,(0,qp.default)(c,l));break}return i},{type:fs})},QP=tt.default={TYPE:fs,process:Fp}});var _s=m(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.process=it.default=it.TYPE=void 0;var Rp=Zp(le());function Zp(r){return r&&r.__esModule?r:{default:r}}var ps=it.TYPE="ARC",Np=it.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 10:i.x=l;break;case 20:i.y=l;break;case 30:i.z=l;break;case 39:i.thickness=l;break;case 40:i.r=l;break;case 50:i.startAngle=l/180*Math.PI;break;case 51:i.endAngle=l/180*Math.PI;break;default:Object.assign(i,(0,Rp.default)(c,l));break}return i},{type:ps})},tT=it.default={TYPE:ps,process:Np}});var vs=m(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.process=rt.default=rt.TYPE=void 0;var jp=Hp(le());function Hp(r){return r&&r.__esModule?r:{default:r}}var ms=rt.TYPE="ELLIPSE",Gp=rt.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 10:i.x=l;break;case 11:i.majorX=l;break;case 20:i.y=l;break;case 21:i.majorY=l;break;case 30:i.z=l;break;case 31:i.majorZ=l;break;case 40:i.axisRatio=l;break;case 41:i.startAngle=l;break;case 42:i.endAngle=l;break;default:Object.assign(i,(0,jp.default)(c,l));break}return i},{type:ms})},rT=rt.default={TYPE:ms,process:Gp}});var ys=m(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.process=nt.default=nt.TYPE=void 0;var Yp=Wp(le());function Wp(r){return r&&r.__esModule?r:{default:r}}var gs=nt.TYPE="SPLINE",Vp=nt.process=function(a){var i;return a.reduce(function(s,c){var l=c[0],f=c[1];switch(l){case 10:i={x:f,y:0},s.controlPoints.push(i);break;case 20:i.y=f;break;case 30:i.z=f;break;case 40:s.knots.push(f);break;case 41:s.weights||(s.weights=[]),s.weights.push(f);break;case 42:s.knotTolerance=f;break;case 43:s.controlPointTolerance=f;break;case 44:s.fitTolerance=f;break;case 70:s.flag=f,s.closed=(f&1)===1;break;case 71:s.degree=f;break;case 72:s.numberOfKnots=f;break;case 73:s.numberOfControlPoints=f;break;case 74:s.numberOfFitPoints=f;break;default:Object.assign(s,(0,Yp.default)(l,f));break}return s},{type:gs,controlPoints:[],knots:[]})},aT=nt.default={TYPE:gs,process:Vp}});var xs=m(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.process=at.default=at.TYPE=void 0;var Up=Xp(le());function Xp(r){return r&&r.__esModule?r:{default:r}}var bs=at.TYPE="SOLID",Kp=at.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 10:i.corners[0].x=l;break;case 20:i.corners[0].y=l;break;case 30:i.corners[0].z=l;break;case 11:i.corners[1].x=l;break;case 21:i.corners[1].y=l;break;case 31:i.corners[1].z=l;break;case 12:i.corners[2].x=l;break;case 22:i.corners[2].y=l;break;case 32:i.corners[2].z=l;break;case 13:i.corners[3].x=l;break;case 23:i.corners[3].y=l;break;case 33:i.corners[3].z=l;break;case 39:i.thickness=l;break;default:Object.assign(i,(0,Up.default)(c,l));break}return i},{type:bs,corners:[{},{},{},{}]})},sT=at.default={TYPE:bs,process:Kp}});var Ps=m(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.process=st.default=st.TYPE=void 0;var Jp=$p(le());function $p(r){return r&&r.__esModule?r:{default:r}}var ws=st.TYPE="HATCH",_e="IDLE",j={},Ye=0,ot=!1,Bt=null,ke={references:[],entities:[]},pr=null,Qp=st.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 100:_e="IDLE";break;case 2:i.patternName=l;break;case 10:_e==="IDLE"?i.elevation.x=parseFloat(l):_e==="POLYLINE"?(pr={x:parseFloat(l),y:0,bulge:0},ke.entities[0].points.push(pr)):_e==="SEED"?(Bt||(Bt={x:0,y:0},i.seeds.seeds.push(Bt)),Bt.x=parseFloat(l)):_i(c,Ye,parseFloat(l));break;case 20:_e==="IDLE"?i.elevation.y=parseFloat(l):_e==="POLYLINE"?pr.y=parseFloat(l):_e==="SEED"?(Bt.y=parseFloat(l),Bt=null):_i(c,Ye,parseFloat(l));break;case 30:i.elevation.z=parseFloat(l);break;case 63:i.fillColor=l;break;case 70:i.fillType=parseFloat(l)===1?"SOLID":"PATTERN";break;case 210:i.extrusionDir.x=parseFloat(l);break;case 220:i.extrusionDir.y=parseFloat(l);break;case 230:i.extrusionDir.z=parseFloat(l);break;case 91:i.boundary.count=parseFloat(l);break;case 92:if(ke={references:[],entities:[]},i.boundary.loops.push(ke),ke.type=parseFloat(l),ot=(ke.type&2)===2,ot){var f={type:"POLYLINE",points:[]};ke.entities.push(f),_e="POLYLINE"}break;case 93:_e==="IDLE"&&(_e="ENT"),ke.count=parseFloat(l);break;case 11:case 21:case 40:case 50:case 51:case 74:case 94:case 95:case 96:Ye===4&&(_e="SPLINE"),_i(c,Ye,parseFloat(l));break;case 42:ot?pr.bulge=parseFloat(l):_i(c,Ye,parseFloat(l));break;case 72:Ye=parseFloat(l),ke[ot?"hasBulge":"edgeType"]=Ye,ot||(j=e_(Ye),ke.entities.push(j));break;case 73:_e==="IDLE"||ot?ke.entities[0].closed=l:_i(c,Ye,parseFloat(l));break;case 75:_e="IDLE",i.style=parseFloat(l);break;case 76:i.hatchType=parseFloat(l);break;case 97:_e="IDLE",ot=!1,ke.sourceObjects=parseFloat(l);break;case 98:_e="SEED",i.seeds.count=parseFloat(l);break;case 52:i.shadowPatternAngle=parseFloat(l);break;case 41:i.spacing=parseFloat(l);break;case 77:i.double=parseFloat(l)===1;break;case 78:i.pattern.lineCount=parseFloat(l);break;case 53:i.pattern.angle=parseFloat(l);break;case 43:i.pattern.x=parseFloat(l);break;case 44:i.pattern.y=parseFloat(l);break;case 45:i.pattern.offsetX=parseFloat(l);break;case 46:i.pattern.offsetY=parseFloat(l);break;case 79:i.pattern.dashCount=parseFloat(l);break;case 49:i.pattern.length.push(l);break;case 330:ke.references.push(l);break;case 450:i.solidOrGradient=parseFloat(l)===0?"SOLID":"GRADIENT";break;case 453:i.color.count=parseFloat(l);break;case 460:i.color.rotation=l;break;case 461:i.color.gradient=l;break;case 462:i.color.tint=l;break;default:Object.assign(i,(0,Jp.default)(c,l));break}return i},{type:ws,elevation:{},extrusionDir:{x:0,y:0,z:1},pattern:{length:[]},boundary:{loops:[]},seeds:{count:0,seeds:[]},color:{}})},lT=st.default={TYPE:ws,process:Qp};function e_(r){if(ot)return{};switch(r){case 1:return{type:"LINE",start:{x:0,y:0},end:{x:0,y:0}};case 2:return{type:"ARC",center:{x:0,y:0},radius:0,startAngle:0,endAngle:0,counterClockWise:!1};case 3:return{type:"ELLIPSE",center:{x:0,y:0},startAngle:0,endAngle:0,counterClockWise:!1,major:{x:0,y:0},minor:0};case 4:return{type:"SPLINE",degree:0,rational:0,periodic:0,knots:{count:0,knots:[]},controlPoints:{count:0,points:[]},weights:1}}return{}}function _i(r,a,i){switch(r){case 10:switch(a){case 1:j.start.x=i;break;case 2:j.center.x=i;break;case 3:j.center.x=i;break;case 4:j.controlPoints.points.push({x:i,y:0});break}break;case 20:{switch(a){case 1:j.start.y=i;break;case 2:j.center.y=i;break;case 3:j.center.y=i;break;case 4:j.controlPoints.points[j.controlPoints.points.length-1].y=i;break}break}case 11:switch(a){case 1:j.end.x=i;break;case 3:j.major.x=i;break}break;case 21:{switch(a){case 1:j.end.y=i;break;case 3:j.major.y=i;break}break}case 40:switch(a){case 2:j.radius=i;break;case 3:j.minor=i;break;case 4:j.knots.knots.push(i);break}break;case 42:switch(a){case 4:j.weights=i;break}break;case 50:switch(a){case 2:j.startAngle=i;break;case 3:j.startAngle=i;break}break;case 51:switch(a){case 2:j.endAngle=i;break;case 3:j.endAngle=i;break}break;case 73:switch(a){case 2:j.counterClockWise=parseFloat(i)===1;break;case 3:j.counterClockWise=parseFloat(i)===1;break;case 4:j.rational=i;break}break;case 74:switch(a){case 4:j.periodic=i;break}break;case 94:switch(a){case 4:j.degree=i;break}break;case 95:switch(a){case 4:j.knots.count=i;break}break;case 96:switch(a){case 4:j.controlPoints.count=i;break}break}}});var Zn=m(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.process=De.default=De.assign=De.TYPE=void 0;var t_=i_(le());function i_(r){return r&&r.__esModule?r:{default:r}}var ks=De.TYPE="MTEXT",Ts={10:"x",20:"y",30:"z",40:"nominalTextHeight",41:"refRectangleWidth",71:"attachmentPoint",72:"drawingDirection",7:"styleName",11:"xAxisX",21:"xAxisY",31:"xAxisZ",42:"horizontalWidth",43:"verticalHeight",73:"lineSpacingStyle",44:"lineSpacingFactor",90:"backgroundFill",420:"bgColorRGB0",421:"bgColorRGB1",422:"bgColorRGB2",423:"bgColorRGB3",424:"bgColorRGB4",425:"bgColorRGB5",426:"bgColorRGB6",427:"bgColorRGB7",428:"bgColorRGB8",429:"bgColorRGB9",430:"bgColorName0",431:"bgColorName1",432:"bgColorName2",433:"bgColorName3",434:"bgColorName4",435:"bgColorName5",436:"bgColorName6",437:"bgColorName7",438:"bgColorName8",439:"bgColorName9",45:"fillBoxStyle",63:"bgFillColor",441:"bgFillTransparency",75:"columnType",76:"columnCount",78:"columnFlowReversed",79:"columnAutoheight",48:"columnWidth",49:"columnGutter",50:"columnHeights"},r_=De.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];return Ls(i,c,l),i},{type:ks,string:""})},Ls=De.assign=function(a,i,s){return Ts[i]!==void 0?a[Ts[i]]=s:i===1||i===3?a.string+=s:i===50?(a.xAxisX=Math.cos(s),a.xAxisY=Math.sin(s)):Object.assign(a,(0,t_.default)(i,s)),a},hT=De.default={TYPE:ks,process:r_,assign:Ls}});var Nn=m(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.process=ze.default=ze.assign=ze.TYPE=void 0;var n_=a_(le());function a_(r){return r&&r.__esModule?r:{default:r}}var Es=ze.TYPE="TEXT",Ms={1:"string",10:"x",20:"y",30:"z",11:"x2",21:"y2",31:"z2",39:"thickness",40:"textHeight",41:"relScaleX",50:"rotation",51:"obliqueAngle",7:"styleName",71:"mirror",72:"hAlign",73:"vAlign"},o_=ze.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];return Ss(i,c,l),i},{type:Es,string:""})},Ss=ze.assign=function(a,i,s){Ms[i]!==void 0?a[Ms[i]]=s:Object.assign(a,(0,n_.default)(i,s))},dT=ze.default={TYPE:Es,process:o_,assign:Ss}});var jn=m(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.process=qe.default=qe.assign=qe.TYPE=void 0;var s_=u_(le()),te=Zn(),xe=Nn();function u_(r){return r&&r.__esModule?r:{default:r}}var Cs=qe.TYPE="ATTDEF",l_=qe.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];return As(i,c,l),i},{type:Cs,subclassMarker:"AcDbText",thickness:0,scaleX:1,mtext:{},text:{}})},As=qe.assign=function(a,i,s){switch(i){case 100:{a.subclassMarker=s;break}case 1:switch(a.subclassMarker){case"AcDbText":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 2:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.tag=s;break;case"AcDbXrecord":a.attdefFlag=s;break}break;case 3:switch(a.subclassMarker){case"AcDbAttributeDefinition":a.prompt=s;break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 7:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 10:switch(a.subclassMarker){case"AcDbText":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break;case"AcDbXrecord":a.x=s;break}break;case 20:switch(a.subclassMarker){case"AcDbText":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break;case"AcDbXrecord":a.y=s;break}break;case 30:switch(a.subclassMarker){case"AcDbText":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break;case"AcDbXrecord":a.z=s;break}break;case 11:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.x2=s;break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 21:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.y2=s;break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 31:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.z2=s;break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 39:(0,xe.assign)(a.text,i,s);break;case 40:switch(a.subclassMarker){case"AcDbText":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break;case"AcDbXrecord":a.annotationScale=s;break}break;case 41:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 42:case 43:case 44:case 45:(0,te.assign)(a.mtext,i,s);break;case 46:a.mtext.annotationHeight=s;break;case 48:case 49:(0,te.assign)(a.mtext,i,s);break;case 50:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 51:(0,xe.assign)(a.text,i,s);break;case 63:(0,te.assign)(a.mtext,i,s);break;case 70:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.attributeFlags=s;break;case"AcDbXrecord":typeof a.mTextFlag>"u"?a.mTextFlag=s:typeof a.isReallyLocked>"u"?a.isReallyLocked=s:a.secondaryAttdefCount=s;break}break;case 71:case 72:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,xe.assign)(a.text,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 73:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.fieldLength=s;break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 74:(0,xe.assign)(a.text,73,s);break;case 75:case 76:case 78:case 79:(0,te.assign)(a.mtext,i,s);break;case 90:(0,te.assign)(a.mtext,i,s);break;case 210:case 220:case 230:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":(0,xe.assign)(a.mtext,i,s);break;case"AcDbMText":(0,te.assign)(a.mtext,i,s);break}break;case 280:switch(a.subclassMarker){case"AcDbAttributeDefinition":case"AcDbAttribute":a.lock=s;break;case"AcDbXrecord":a.clone=!0;break}break;case 340:a.attdefHandle=s;break;case 420:case 421:case 422:case 423:case 424:case 425:case 426:case 427:case 428:case 429:case 430:case 431:case 432:case 433:case 434:case 435:case 436:case 437:case 438:case 439:case 441:(0,te.assign)(a.mtext,i,s);break;default:Object.assign(a,(0,s_.default)(i,s));break}},_T=qe.default={TYPE:Cs,process:l_,assign:As}});var Is=m(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.process=ut.default=ut.TYPE=void 0;var c_=jn(),Os=ut.TYPE="ATTRIB",h_=ut.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];return(0,c_.assign)(i,c,l),i},{type:Os,subclassMarker:"AcDbText",thickness:0,scaleX:1,mtext:{},text:{}})},vT=ut.default={TYPE:Os,process:h_}});var zs=m(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.process=lt.default=lt.TYPE=void 0;var f_=d_(le());function d_(r){return r&&r.__esModule?r:{default:r}}var Ds=lt.TYPE="INSERT",p_=lt.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 2:i.block=l;break;case 10:i.x=l;break;case 20:i.y=l;break;case 30:i.z=l;break;case 41:i.scaleX=l;break;case 42:i.scaleY=l;break;case 43:i.scaleZ=l;break;case 44:i.columnSpacing=l;break;case 45:i.rowSpacing=l;break;case 50:i.rotation=l;break;case 70:i.columnCount=l;break;case 71:i.rowCount=l;break;case 210:i.extrusionX=l;break;case 220:i.extrusionY=l;break;case 230:i.extrusionZ=l;break;default:Object.assign(i,(0,f_.default)(c,l));break}return i},{type:Ds})},yT=lt.default={TYPE:Ds,process:p_}});var Bs=m(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.process=ct.default=ct.TYPE=void 0;var __=m_(le());function m_(r){return r&&r.__esModule?r:{default:r}}var qs=ct.TYPE="3DFACE",v_=ct.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 10:i.vertices[0].x=l;break;case 20:i.vertices[0].y=l;break;case 30:i.vertices[0].z=l;break;case 11:i.vertices[1].x=l;break;case 21:i.vertices[1].y=l;break;case 31:i.vertices[1].z=l;break;case 12:i.vertices[2].x=l;break;case 22:i.vertices[2].y=l;break;case 32:i.vertices[2].z=l;break;case 13:i.vertices[3].x=l;break;case 23:i.vertices[3].y=l;break;case 33:i.vertices[3].z=l;break;default:Object.assign(i,(0,__.default)(c,l));break}return i},{type:qs,vertices:[{},{},{},{}]})},xT=ct.default={TYPE:qs,process:v_}});var Rs=m(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.process=ht.default=ht.TYPE=void 0;var g_=y_(le());function y_(r){return r&&r.__esModule?r:{default:r}}var Fs=ht.TYPE="DIMENSION",b_=ht.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 2:i.block=l;break;case 10:i.start.x=l;break;case 20:i.start.y=l;break;case 30:i.start.z=l;break;case 11:i.textMidpoint.x=l;break;case 21:i.textMidpoint.y=l;break;case 31:i.textMidpoint.z=l;break;case 13:i.measureStart.x=l;break;case 23:i.measureStart.y=l;break;case 33:i.measureStart.z=l;break;case 14:i.measureEnd.x=l;break;case 24:i.measureEnd.y=l;break;case 34:i.measureEnd.z=l;break;case 50:i.rotation=l;break;case 51:i.horizonRotation=l;break;case 52:i.extensionRotation=l;break;case 53:i.textRotation=l;break;case 70:{var f=x_(l);f.ordinateType&&(i.ordinateType=!0),f.uniqueBlockReference&&(i.uniqueBlockReference=!0),f.userDefinedLocation&&(i.userDefinedLocation=!0),i.dimensionType=f.dimensionType;break}case 71:i.attachementPoint=l;break;case 210:i.extrudeDirection=i.extrudeDirection||{},i.extrudeDirection.x=l;break;case 220:i.extrudeDirection=i.extrudeDirection||{},i.extrudeDirection.y=l;break;case 230:i.extrudeDirection=i.extrudeDirection||{},i.extrudeDirection.z=l;break;default:Object.assign(i,(0,g_.default)(c,l));break}return i},{type:Fs,start:{x:0,y:0,z:0},measureStart:{x:0,y:0,z:0},measureEnd:{x:0,y:0,z:0},textMidpoint:{x:0,y:0,z:0},attachementPoint:1,dimensionType:0})};function x_(r){var a=!1,i=!1,s=!1;if(r>6){var c=r-32,l=r-64,f=r-32-64,_=r-32-128,p=r-32-64-128;c>=0&&c<=6?(a=!0,r=c):l>=0&&l<=6?(i=!0,r=l):f>=0&&f<=6?(a=!0,i=!0,r=f):_>=0&&_<=6?(a=!0,s=!0,r=_):p>=0&&p<=6&&(a=!0,i=!0,s=!0,r=p)}return{dimensionType:r,uniqueBlockReference:a,ordinateType:i,userDefinedLocation:s}}var PT=ht.default={TYPE:Fs,process:b_}});var Ns=m(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.process=ft.default=ft.TYPE=void 0;var w_=P_(le());function P_(r){return r&&r.__esModule?r:{default:r}}var Zs=ft.TYPE="VIEWPORT",T_=ft.process=function(a){return a.reduce(function(i,s){var c=s[0],l=s[1];switch(c){case 1:i.layout=parseFloat(l);break;case 10:i.center.x=parseFloat(l);break;case 20:i.center.y=parseFloat(l);break;case 30:i.center.z=parseFloat(l);break;case 12:i.centerDCS.x=parseFloat(l);break;case 22:i.centerDCS.y=parseFloat(l);break;case 13:i.snap.x=parseFloat(l);break;case 23:i.snap.y=parseFloat(l);break;case 14:i.snapSpacing.x=parseFloat(l);break;case 24:i.snapSpacing.y=parseFloat(l);break;case 15:i.gridSpacing.x=parseFloat(l);break;case 25:i.gridSpacing.y=parseFloat(l);break;case 16:i.direction.x=parseFloat(l);break;case 26:i.direction.y=parseFloat(l);break;case 36:i.direction.z=parseFloat(l);break;case 17:i.target.x=parseFloat(l);break;case 27:i.target.y=parseFloat(l);break;case 37:i.target.z=parseFloat(l);break;case 40:i.width=parseFloat(l);break;case 41:i.height=parseFloat(l);break;case 50:i.snapAngle=parseFloat(l);break;case 51:i.angle=parseFloat(l);break;case 68:i.status=l;break;case 69:i.id=l;break;case 90:i.flags=l;break;case 110:i.x=parseFloat(l);break;case 120:i.y=parseFloat(l);break;case 130:i.z=parseFloat(l);break;case 111:i.xAxisX=parseFloat(l);break;case 121:i.xAxisY=parseFloat(l);break;case 131:i.xAxisZ=parseFloat(l);break;case 112:i.xAxisX=parseFloat(l);break;case 122:i.xAxisY=parseFloat(l);break;case 132:i.xAxisZ=parseFloat(l);break;case 146:i.elevation=parseFloat(l);break;case 281:i.render=l;break;default:Object.assign(i,(0,w_.default)(c,l));break}return i},{type:Zs,center:{},centerDCS:{},snap:{},snapSpacing:{},gridSpacing:{},direction:{},target:{}})},kT=ft.default={TYPE:Zs,process:T_}});var Hn=m(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.default=void 0;var js=se(Ie()),k_=se(ns()),L_=se(os()),M_=se(us()),E_=se(cs()),S_=se(hs()),C_=se(ds()),A_=se(_s()),O_=se(vs()),I_=se(ys()),D_=se(xs()),z_=se(Ps()),q_=se(Zn()),B_=se(jn()),F_=se(Is()),R_=se(zs()),Z_=se(Bs()),N_=se(Rs()),j_=se(Nn()),H_=se(Ns());function se(r){return r&&r.__esModule?r:{default:r}}var Hs=[k_.default,L_.default,M_.default,E_.default,S_.default,C_.default,A_.default,O_.default,I_.default,D_.default,z_.default,q_.default,B_.default,F_.default,j_.default,R_.default,N_.default,Z_.default,H_.default].reduce(function(r,a){return r[a.TYPE]=a,r},{}),MT=_r.default=function(a){var i=[],s=[],c;a.forEach(function(f){var _=f[0];_===0&&(c=[],s.push(c)),c.push(f)});var l;return s.forEach(function(f){var _=f[0][1],p=f.slice(1);if(Hs[_]!==void 0){var g=Hs[_].process(p);_==="POLYLINE"?(l=g,i.push(g)):_==="VERTEX"?l?l.vertices.push(g):js.default.error("ignoring invalid VERTEX entity"):_==="SEQEND"?l=void 0:i.push(g)}else js.default.warn("unsupported type in ENTITIES section:",_)}),i}});var Gs=m(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.default=void 0;var G_=Y_(Hn());function Y_(r){return r&&r.__esModule?r:{default:r}}var ST=mr.default=function(a){var i,s=[],c,l=[];return a.forEach(function(f){var _=f[0],p=f[1];if(p==="BLOCK")i="block",c={},l=[],s.push(c);else if(p==="ENDBLK")i==="entities"?c.entities=(0,G_.default)(l):c.entities=[],l=void 0,i=void 0;else if(i==="block"&&_!==0)switch(_){case 1:c.xref=p;break;case 2:c.name=p;break;case 10:c.x=p;break;case 20:c.y=p;break;case 30:c.z=p;break;case 67:p!==0&&(c.paperSpace=p);break;case 410:c.layout=p;break;default:break}else i==="block"&&_===0?(i="entities",l.push(f)):i==="entities"&&l.push(f)}),s}});var Ys=m(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.default=void 0;var AT=vr.default=function(a){var i,s={layouts:[]},c={};return a.forEach(function(l,f){var _=l[0],p=l[1];if(_===0&&(i="IDLE"),p==="LAYOUT"&&(i="layout",c={},s.layouts.push(c)),i==="layout"&&_!==0)switch(_){case 100:p==="AcDbLayout"&&(i="AcDbLayout");break}if(i==="AcDbLayout"&&_!==0)switch(_){case 1:c.name=p;break;case 5:c.handle=p;break;case 10:c.minLimitX=parseFloat(p);break;case 20:c.minLimitY=parseFloat(p);break;case 11:c.maxLimitX=parseFloat(p);break;case 21:c.maxLimitY=parseFloat(p);break;case 12:c.x=parseFloat(p);break;case 22:c.y=parseFloat(p);break;case 32:c.z=parseFloat(p);break;case 14:c.minX=parseFloat(p);break;case 24:c.minY=parseFloat(p);break;case 34:c.minZ=parseFloat(p);break;case 15:c.maxX=parseFloat(p);break;case 25:c.maxY=parseFloat(p);break;case 35:c.maxZ=parseFloat(p);break;case 70:c.flag=p===1?"PSLTSCALE":"LIMCHECK";break;case 71:c.tabOrder=p;break;case 146:c.elevation=parseFloat(p);break;case 13:c.ucsX=parseFloat(p);break;case 23:c.ucsY=parseFloat(p);break;case 33:c.ucsZ=parseFloat(p);break;case 16:c.ucsXaxisX=parseFloat(p);break;case 26:c.ucsXaxisY=parseFloat(p);break;case 36:c.ucsXaxisZ=parseFloat(p);break;case 17:c.ucsYaxisX=parseFloat(p);break;case 27:c.ucsYaxisY=parseFloat(p);break;case 37:c.ucsYaxisZ=parseFloat(p);break;case 76:switch(p){case 0:c.ucsType="NOT ORTHOGRAPHIC";break;case 1:c.ucsType="TOP";break;case 2:c.ucsType="BOTTOM";break;case 3:c.ucsType="FRONT";break;case 4:c.ucsType="BACK";break;case 5:c.ucsType="LEFT";break;case 6:c.ucsType="RIGHT";break}break;case 330:c.tableRecord=p;break;case 331:c.lastActiveViewport=p;break;case 333:c.shadePlot=p;break}}),s}});var Gn=m(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.default=void 0;var W_=Ft(es()),V_=Ft(is()),U_=Ft(Gs()),X_=Ft(Hn()),K_=Ft(Ys()),J_=Ft(Ie());function Ft(r){return r&&r.__esModule?r:{default:r}}function $_(r,a){var i=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=Q_(r))||a&&r&&typeof r.length=="number"){i&&(r=i);var s=0,c=function(){};return{s:c,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(g){throw g},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,f=!0,_=!1;return{s:function(){i=i.call(r)},n:function(){var g=i.next();return f=g.done,g},e:function(g){_=!0,l=g},f:function(){try{f||i.return==null||i.return()}finally{if(_)throw l}}}}function Q_(r,a){if(r){if(typeof r=="string")return Ws(r,a);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ws(r,a):void 0}}function Ws(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,s=Array(a);i<a;i++)s[i]=r[i];return s}var em=function(a,i){return a>=10&&a<60||a>=210&&a<240?parseFloat(i,10):a>=60&&a<100?parseInt(i,10):i},tm=function(a){var i="type",s,c=[],l=$_(a),f;try{for(l.s();!(f=l.n()).done;){var _=f.value;i==="type"?(s=parseInt(_,10),i="value"):(c.push([s,em(s,_)]),i="type")}}catch(p){l.e(p)}finally{l.f()}return c},im=function(a){var i;return a.reduce(function(s,c){return c[0]===0&&c[1]==="SECTION"?i=[]:c[0]===0&&c[1]==="ENDSEC"?(s.push(i),i=void 0):i!==void 0&&i.push(c),s},[])},rm=function(a,i){var s=i[0][1],c=i.slice(1);switch(s){case"HEADER":a.header=(0,W_.default)(c);break;case"TABLES":a.tables=(0,V_.default)(c);break;case"BLOCKS":a.blocks=(0,U_.default)(c);break;case"ENTITIES":a.entities=(0,X_.default)(c);break;case"OBJECTS":a.objects=(0,K_.default)(c);break;default:J_.default.warn("Unsupported section: ".concat(s))}return a},IT=gr.default=function(a){var i=a.split(/\r\n|\r|\n/g),s=tm(i),c=im(s),l=c.reduce(rm,{header:{},blocks:[],entities:[],objects:{layouts:[]},tables:{layers:{},styles:{},ltypes:{}}});return l}});var Us=m((zT,Vs)=>{"use strict";function nm(){this.__data__=[],this.size=0}Vs.exports=nm});var Yn=m((qT,Xs)=>{"use strict";function am(r,a){return r===a||r!==r&&a!==a}Xs.exports=am});var mi=m((BT,Ks)=>{"use strict";var om=Yn();function sm(r,a){for(var i=r.length;i--;)if(om(r[i][0],a))return i;return-1}Ks.exports=sm});var $s=m((FT,Js)=>{"use strict";var um=mi(),lm=Array.prototype,cm=lm.splice;function hm(r){var a=this.__data__,i=um(a,r);if(i<0)return!1;var s=a.length-1;return i==s?a.pop():cm.call(a,i,1),--this.size,!0}Js.exports=hm});var eu=m((RT,Qs)=>{"use strict";var fm=mi();function dm(r){var a=this.__data__,i=fm(a,r);return i<0?void 0:a[i][1]}Qs.exports=dm});var iu=m((ZT,tu)=>{"use strict";var pm=mi();function _m(r){return pm(this.__data__,r)>-1}tu.exports=_m});var nu=m((NT,ru)=>{"use strict";var mm=mi();function vm(r,a){var i=this.__data__,s=mm(i,r);return s<0?(++this.size,i.push([r,a])):i[s][1]=a,this}ru.exports=vm});var vi=m((jT,au)=>{"use strict";var gm=Us(),ym=$s(),bm=eu(),xm=iu(),wm=nu();function Rt(r){var a=-1,i=r==null?0:r.length;for(this.clear();++a<i;){var s=r[a];this.set(s[0],s[1])}}Rt.prototype.clear=gm;Rt.prototype.delete=ym;Rt.prototype.get=bm;Rt.prototype.has=xm;Rt.prototype.set=wm;au.exports=Rt});var su=m((HT,ou)=>{"use strict";var Pm=vi();function Tm(){this.__data__=new Pm,this.size=0}ou.exports=Tm});var lu=m((GT,uu)=>{"use strict";function km(r){var a=this.__data__,i=a.delete(r);return this.size=a.size,i}uu.exports=km});var hu=m((YT,cu)=>{"use strict";function Lm(r){return this.__data__.get(r)}cu.exports=Lm});var du=m((WT,fu)=>{"use strict";function Mm(r){return this.__data__.has(r)}fu.exports=Mm});var Wn=m((VT,pu)=>{"use strict";var Em=typeof global=="object"&&global&&global.Object===Object&&global;pu.exports=Em});var Ee=m((UT,_u)=>{"use strict";var Sm=Wn(),Cm=typeof self=="object"&&self&&self.Object===Object&&self,Am=Sm||Cm||Function("return this")();_u.exports=Am});var yr=m((XT,mu)=>{"use strict";var Om=Ee(),Im=Om.Symbol;mu.exports=Im});var bu=m((KT,yu)=>{"use strict";var vu=yr(),gu=Object.prototype,Dm=gu.hasOwnProperty,zm=gu.toString,gi=vu?vu.toStringTag:void 0;function qm(r){var a=Dm.call(r,gi),i=r[gi];try{r[gi]=void 0;var s=!0}catch{}var c=zm.call(r);return s&&(a?r[gi]=i:delete r[gi]),c}yu.exports=qm});var wu=m((JT,xu)=>{"use strict";var Bm=Object.prototype,Fm=Bm.toString;function Rm(r){return Fm.call(r)}xu.exports=Rm});var yi=m(($T,ku)=>{"use strict";var Pu=yr(),Zm=bu(),Nm=wu(),jm="[object Null]",Hm="[object Undefined]",Tu=Pu?Pu.toStringTag:void 0;function Gm(r){return r==null?r===void 0?Hm:jm:Tu&&Tu in Object(r)?Zm(r):Nm(r)}ku.exports=Gm});var Zt=m((QT,Lu)=>{"use strict";function Ym(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}Lu.exports=Ym});var Vn=m((ek,Mu)=>{"use strict";var Wm=yi(),Vm=Zt(),Um="[object AsyncFunction]",Xm="[object Function]",Km="[object GeneratorFunction]",Jm="[object Proxy]";function $m(r){if(!Vm(r))return!1;var a=Wm(r);return a==Xm||a==Km||a==Um||a==Jm}Mu.exports=$m});var Su=m((tk,Eu)=>{"use strict";var Qm=Ee(),ev=Qm["__core-js_shared__"];Eu.exports=ev});var Ou=m((ik,Au)=>{"use strict";var Un=Su(),Cu=function(){var r=/[^.]+$/.exec(Un&&Un.keys&&Un.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function tv(r){return!!Cu&&Cu in r}Au.exports=tv});var Xn=m((rk,Iu)=>{"use strict";var iv=Function.prototype,rv=iv.toString;function nv(r){if(r!=null){try{return rv.call(r)}catch{}try{return r+""}catch{}}return""}Iu.exports=nv});var zu=m((nk,Du)=>{"use strict";var av=Vn(),ov=Ou(),sv=Zt(),uv=Xn(),lv=/[\\^$.*+?()[\]{}|]/g,cv=/^\[object .+?Constructor\]$/,hv=Function.prototype,fv=Object.prototype,dv=hv.toString,pv=fv.hasOwnProperty,_v=RegExp("^"+dv.call(pv).replace(lv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mv(r){if(!sv(r)||ov(r))return!1;var a=av(r)?_v:cv;return a.test(uv(r))}Du.exports=mv});var Bu=m((ak,qu)=>{"use strict";function vv(r,a){return r?.[a]}qu.exports=vv});var dt=m((ok,Fu)=>{"use strict";var gv=zu(),yv=Bu();function bv(r,a){var i=yv(r,a);return gv(i)?i:void 0}Fu.exports=bv});var br=m((sk,Ru)=>{"use strict";var xv=dt(),wv=Ee(),Pv=xv(wv,"Map");Ru.exports=Pv});var bi=m((uk,Zu)=>{"use strict";var Tv=dt(),kv=Tv(Object,"create");Zu.exports=kv});var Hu=m((lk,ju)=>{"use strict";var Nu=bi();function Lv(){this.__data__=Nu?Nu(null):{},this.size=0}ju.exports=Lv});var Yu=m((ck,Gu)=>{"use strict";function Mv(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}Gu.exports=Mv});var Vu=m((hk,Wu)=>{"use strict";var Ev=bi(),Sv="__lodash_hash_undefined__",Cv=Object.prototype,Av=Cv.hasOwnProperty;function Ov(r){var a=this.__data__;if(Ev){var i=a[r];return i===Sv?void 0:i}return Av.call(a,r)?a[r]:void 0}Wu.exports=Ov});var Xu=m((fk,Uu)=>{"use strict";var Iv=bi(),Dv=Object.prototype,zv=Dv.hasOwnProperty;function qv(r){var a=this.__data__;return Iv?a[r]!==void 0:zv.call(a,r)}Uu.exports=qv});var Ju=m((dk,Ku)=>{"use strict";var Bv=bi(),Fv="__lodash_hash_undefined__";function Rv(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=Bv&&a===void 0?Fv:a,this}Ku.exports=Rv});var Qu=m((pk,$u)=>{"use strict";var Zv=Hu(),Nv=Yu(),jv=Vu(),Hv=Xu(),Gv=Ju();function Nt(r){var a=-1,i=r==null?0:r.length;for(this.clear();++a<i;){var s=r[a];this.set(s[0],s[1])}}Nt.prototype.clear=Zv;Nt.prototype.delete=Nv;Nt.prototype.get=jv;Nt.prototype.has=Hv;Nt.prototype.set=Gv;$u.exports=Nt});var il=m((_k,tl)=>{"use strict";var el=Qu(),Yv=vi(),Wv=br();function Vv(){this.size=0,this.__data__={hash:new el,map:new(Wv||Yv),string:new el}}tl.exports=Vv});var nl=m((mk,rl)=>{"use strict";function Uv(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}rl.exports=Uv});var xi=m((vk,al)=>{"use strict";var Xv=nl();function Kv(r,a){var i=r.__data__;return Xv(a)?i[typeof a=="string"?"string":"hash"]:i.map}al.exports=Kv});var sl=m((gk,ol)=>{"use strict";var Jv=xi();function $v(r){var a=Jv(this,r).delete(r);return this.size-=a?1:0,a}ol.exports=$v});var ll=m((yk,ul)=>{"use strict";var Qv=xi();function eg(r){return Qv(this,r).get(r)}ul.exports=eg});var hl=m((bk,cl)=>{"use strict";var tg=xi();function ig(r){return tg(this,r).has(r)}cl.exports=ig});var dl=m((xk,fl)=>{"use strict";var rg=xi();function ng(r,a){var i=rg(this,r),s=i.size;return i.set(r,a),this.size+=i.size==s?0:1,this}fl.exports=ng});var _l=m((wk,pl)=>{"use strict";var ag=il(),og=sl(),sg=ll(),ug=hl(),lg=dl();function jt(r){var a=-1,i=r==null?0:r.length;for(this.clear();++a<i;){var s=r[a];this.set(s[0],s[1])}}jt.prototype.clear=ag;jt.prototype.delete=og;jt.prototype.get=sg;jt.prototype.has=ug;jt.prototype.set=lg;pl.exports=jt});var vl=m((Pk,ml)=>{"use strict";var cg=vi(),hg=br(),fg=_l(),dg=200;function pg(r,a){var i=this.__data__;if(i instanceof cg){var s=i.__data__;if(!hg||s.length<dg-1)return s.push([r,a]),this.size=++i.size,this;i=this.__data__=new fg(s)}return i.set(r,a),this.size=i.size,this}ml.exports=pg});var yl=m((Tk,gl)=>{"use strict";var _g=vi(),mg=su(),vg=lu(),gg=hu(),yg=du(),bg=vl();function Ht(r){var a=this.__data__=new _g(r);this.size=a.size}Ht.prototype.clear=mg;Ht.prototype.delete=vg;Ht.prototype.get=gg;Ht.prototype.has=yg;Ht.prototype.set=bg;gl.exports=Ht});var xl=m((kk,bl)=>{"use strict";function xg(r,a){for(var i=-1,s=r==null?0:r.length;++i<s&&a(r[i],i,r)!==!1;);return r}bl.exports=xg});var Pl=m((Lk,wl)=>{"use strict";var wg=dt(),Pg=function(){try{var r=wg(Object,"defineProperty");return r({},"",{}),r}catch{}}();wl.exports=Pg});var Kn=m((Mk,kl)=>{"use strict";var Tl=Pl();function Tg(r,a,i){a=="__proto__"&&Tl?Tl(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}kl.exports=Tg});var Jn=m((Ek,Ll)=>{"use strict";var kg=Kn(),Lg=Yn(),Mg=Object.prototype,Eg=Mg.hasOwnProperty;function Sg(r,a,i){var s=r[a];(!(Eg.call(r,a)&&Lg(s,i))||i===void 0&&!(a in r))&&kg(r,a,i)}Ll.exports=Sg});var wi=m((Sk,Ml)=>{"use strict";var Cg=Jn(),Ag=Kn();function Og(r,a,i,s){var c=!i;i||(i={});for(var l=-1,f=a.length;++l<f;){var _=a[l],p=s?s(i[_],r[_],_,i,r):void 0;p===void 0&&(p=r[_]),c?Ag(i,_,p):Cg(i,_,p)}return i}Ml.exports=Og});var Sl=m((Ck,El)=>{"use strict";function Ig(r,a){for(var i=-1,s=Array(r);++i<r;)s[i]=a(i);return s}El.exports=Ig});var Gt=m((Ak,Cl)=>{"use strict";function Dg(r){return r!=null&&typeof r=="object"}Cl.exports=Dg});var Ol=m((Ok,Al)=>{"use strict";var zg=yi(),qg=Gt(),Bg="[object Arguments]";function Fg(r){return qg(r)&&zg(r)==Bg}Al.exports=Fg});var ql=m((Ik,zl)=>{"use strict";var Il=Ol(),Rg=Gt(),Dl=Object.prototype,Zg=Dl.hasOwnProperty,Ng=Dl.propertyIsEnumerable,jg=Il(function(){return arguments}())?Il:function(r){return Rg(r)&&Zg.call(r,"callee")&&!Ng.call(r,"callee")};zl.exports=jg});var xr=m((Dk,Bl)=>{"use strict";var Hg=Array.isArray;Bl.exports=Hg});var Rl=m((zk,Fl)=>{"use strict";function Gg(){return!1}Fl.exports=Gg});var $n=m((Pi,Yt)=>{"use strict";var Yg=Ee(),Wg=Rl(),jl=typeof Pi=="object"&&Pi&&!Pi.nodeType&&Pi,Zl=jl&&typeof Yt=="object"&&Yt&&!Yt.nodeType&&Yt,Vg=Zl&&Zl.exports===jl,Nl=Vg?Yg.Buffer:void 0,Ug=Nl?Nl.isBuffer:void 0,Xg=Ug||Wg;Yt.exports=Xg});var Gl=m((qk,Hl)=>{"use strict";var Kg=9007199254740991,Jg=/^(?:0|[1-9]\d*)$/;function $g(r,a){var i=typeof r;return a=a??Kg,!!a&&(i=="number"||i!="symbol"&&Jg.test(r))&&r>-1&&r%1==0&&r<a}Hl.exports=$g});var Qn=m((Bk,Yl)=>{"use strict";var Qg=9007199254740991;function ey(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Qg}Yl.exports=ey});var Vl=m((Fk,Wl)=>{"use strict";var ty=yi(),iy=Qn(),ry=Gt(),ny="[object Arguments]",ay="[object Array]",oy="[object Boolean]",sy="[object Date]",uy="[object Error]",ly="[object Function]",cy="[object Map]",hy="[object Number]",fy="[object Object]",dy="[object RegExp]",py="[object Set]",_y="[object String]",my="[object WeakMap]",vy="[object ArrayBuffer]",gy="[object DataView]",yy="[object Float32Array]",by="[object Float64Array]",xy="[object Int8Array]",wy="[object Int16Array]",Py="[object Int32Array]",Ty="[object Uint8Array]",ky="[object Uint8ClampedArray]",Ly="[object Uint16Array]",My="[object Uint32Array]",J={};J[yy]=J[by]=J[xy]=J[wy]=J[Py]=J[Ty]=J[ky]=J[Ly]=J[My]=!0;J[ny]=J[ay]=J[vy]=J[oy]=J[gy]=J[sy]=J[uy]=J[ly]=J[cy]=J[hy]=J[fy]=J[dy]=J[py]=J[_y]=J[my]=!1;function Ey(r){return ry(r)&&iy(r.length)&&!!J[ty(r)]}Wl.exports=Ey});var wr=m((Rk,Ul)=>{"use strict";function Sy(r){return function(a){return r(a)}}Ul.exports=Sy});var Pr=m((Ti,Wt)=>{"use strict";var Cy=Wn(),Xl=typeof Ti=="object"&&Ti&&!Ti.nodeType&&Ti,ki=Xl&&typeof Wt=="object"&&Wt&&!Wt.nodeType&&Wt,Ay=ki&&ki.exports===Xl,ea=Ay&&Cy.process,Oy=function(){try{var r=ki&&ki.require&&ki.require("util").types;return r||ea&&ea.binding&&ea.binding("util")}catch{}}();Wt.exports=Oy});var Ql=m((Zk,$l)=>{"use strict";var Iy=Vl(),Dy=wr(),Kl=Pr(),Jl=Kl&&Kl.isTypedArray,zy=Jl?Dy(Jl):Iy;$l.exports=zy});var ta=m((Nk,ec)=>{"use strict";var qy=Sl(),By=ql(),Fy=xr(),Ry=$n(),Zy=Gl(),Ny=Ql(),jy=Object.prototype,Hy=jy.hasOwnProperty;function Gy(r,a){var i=Fy(r),s=!i&&By(r),c=!i&&!s&&Ry(r),l=!i&&!s&&!c&&Ny(r),f=i||s||c||l,_=f?qy(r.length,String):[],p=_.length;for(var g in r)(a||Hy.call(r,g))&&!(f&&(g=="length"||c&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Zy(g,p)))&&_.push(g);return _}ec.exports=Gy});var Tr=m((jk,tc)=>{"use strict";var Yy=Object.prototype;function Wy(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||Yy;return r===i}tc.exports=Wy});var ia=m((Hk,ic)=>{"use strict";function Vy(r,a){return function(i){return r(a(i))}}ic.exports=Vy});var nc=m((Gk,rc)=>{"use strict";var Uy=ia(),Xy=Uy(Object.keys,Object);rc.exports=Xy});var oc=m((Yk,ac)=>{"use strict";var Ky=Tr(),Jy=nc(),$y=Object.prototype,Qy=$y.hasOwnProperty;function eb(r){if(!Ky(r))return Jy(r);var a=[];for(var i in Object(r))Qy.call(r,i)&&i!="constructor"&&a.push(i);return a}ac.exports=eb});var ra=m((Wk,sc)=>{"use strict";var tb=Vn(),ib=Qn();function rb(r){return r!=null&&ib(r.length)&&!tb(r)}sc.exports=rb});var kr=m((Vk,uc)=>{"use strict";var nb=ta(),ab=oc(),ob=ra();function sb(r){return ob(r)?nb(r):ab(r)}uc.exports=sb});var cc=m((Uk,lc)=>{"use strict";var ub=wi(),lb=kr();function cb(r,a){return r&&ub(a,lb(a),r)}lc.exports=cb});var fc=m((Xk,hc)=>{"use strict";function hb(r){var a=[];if(r!=null)for(var i in Object(r))a.push(i);return a}hc.exports=hb});var pc=m((Kk,dc)=>{"use strict";var fb=Zt(),db=Tr(),pb=fc(),_b=Object.prototype,mb=_b.hasOwnProperty;function vb(r){if(!fb(r))return pb(r);var a=db(r),i=[];for(var s in r)s=="constructor"&&(a||!mb.call(r,s))||i.push(s);return i}dc.exports=vb});var Lr=m((Jk,_c)=>{"use strict";var gb=ta(),yb=pc(),bb=ra();function xb(r){return bb(r)?gb(r,!0):yb(r)}_c.exports=xb});var vc=m(($k,mc)=>{"use strict";var wb=wi(),Pb=Lr();function Tb(r,a){return r&&wb(a,Pb(a),r)}mc.exports=Tb});var wc=m((Li,Vt)=>{"use strict";var kb=Ee(),xc=typeof Li=="object"&&Li&&!Li.nodeType&&Li,gc=xc&&typeof Vt=="object"&&Vt&&!Vt.nodeType&&Vt,Lb=gc&&gc.exports===xc,yc=Lb?kb.Buffer:void 0,bc=yc?yc.allocUnsafe:void 0;function Mb(r,a){if(a)return r.slice();var i=r.length,s=bc?bc(i):new r.constructor(i);return r.copy(s),s}Vt.exports=Mb});var Tc=m((Qk,Pc)=>{"use strict";function Eb(r,a){var i=-1,s=r.length;for(a||(a=Array(s));++i<s;)a[i]=r[i];return a}Pc.exports=Eb});var Lc=m((eL,kc)=>{"use strict";function Sb(r,a){for(var i=-1,s=r==null?0:r.length,c=0,l=[];++i<s;){var f=r[i];a(f,i,r)&&(l[c++]=f)}return l}kc.exports=Sb});var na=m((tL,Mc)=>{"use strict";function Cb(){return[]}Mc.exports=Cb});var Mr=m((iL,Sc)=>{"use strict";var Ab=Lc(),Ob=na(),Ib=Object.prototype,Db=Ib.propertyIsEnumerable,Ec=Object.getOwnPropertySymbols,zb=Ec?function(r){return r==null?[]:(r=Object(r),Ab(Ec(r),function(a){return Db.call(r,a)}))}:Ob;Sc.exports=zb});var Ac=m((rL,Cc)=>{"use strict";var qb=wi(),Bb=Mr();function Fb(r,a){return qb(r,Bb(r),a)}Cc.exports=Fb});var aa=m((nL,Oc)=>{"use strict";function Rb(r,a){for(var i=-1,s=a.length,c=r.length;++i<s;)r[c+i]=a[i];return r}Oc.exports=Rb});var oa=m((aL,Ic)=>{"use strict";var Zb=ia(),Nb=Zb(Object.getPrototypeOf,Object);Ic.exports=Nb});var sa=m((oL,Dc)=>{"use strict";var jb=aa(),Hb=oa(),Gb=Mr(),Yb=na(),Wb=Object.getOwnPropertySymbols,Vb=Wb?function(r){for(var a=[];r;)jb(a,Gb(r)),r=Hb(r);return a}:Yb;Dc.exports=Vb});var qc=m((sL,zc)=>{"use strict";var Ub=wi(),Xb=sa();function Kb(r,a){return Ub(r,Xb(r),a)}zc.exports=Kb});var ua=m((uL,Bc)=>{"use strict";var Jb=aa(),$b=xr();function Qb(r,a,i){var s=a(r);return $b(r)?s:Jb(s,i(r))}Bc.exports=Qb});var Rc=m((lL,Fc)=>{"use strict";var e0=ua(),t0=Mr(),i0=kr();function r0(r){return e0(r,i0,t0)}Fc.exports=r0});var Nc=m((cL,Zc)=>{"use strict";var n0=ua(),a0=sa(),o0=Lr();function s0(r){return n0(r,o0,a0)}Zc.exports=s0});var Hc=m((hL,jc)=>{"use strict";var u0=dt(),l0=Ee(),c0=u0(l0,"DataView");jc.exports=c0});var Yc=m((fL,Gc)=>{"use strict";var h0=dt(),f0=Ee(),d0=h0(f0,"Promise");Gc.exports=d0});var Vc=m((dL,Wc)=>{"use strict";var p0=dt(),_0=Ee(),m0=p0(_0,"Set");Wc.exports=m0});var Xc=m((pL,Uc)=>{"use strict";var v0=dt(),g0=Ee(),y0=v0(g0,"WeakMap");Uc.exports=y0});var Er=m((_L,ih)=>{"use strict";var la=Hc(),ca=br(),ha=Yc(),fa=Vc(),da=Xc(),th=yi(),Ut=Xn(),Kc="[object Map]",b0="[object Object]",Jc="[object Promise]",$c="[object Set]",Qc="[object WeakMap]",eh="[object DataView]",x0=Ut(la),w0=Ut(ca),P0=Ut(ha),T0=Ut(fa),k0=Ut(da),Tt=th;(la&&Tt(new la(new ArrayBuffer(1)))!=eh||ca&&Tt(new ca)!=Kc||ha&&Tt(ha.resolve())!=Jc||fa&&Tt(new fa)!=$c||da&&Tt(new da)!=Qc)&&(Tt=function(r){var a=th(r),i=a==b0?r.constructor:void 0,s=i?Ut(i):"";if(s)switch(s){case x0:return eh;case w0:return Kc;case P0:return Jc;case T0:return $c;case k0:return Qc}return a});ih.exports=Tt});var nh=m((mL,rh)=>{"use strict";var L0=Object.prototype,M0=L0.hasOwnProperty;function E0(r){var a=r.length,i=new r.constructor(a);return a&&typeof r[0]=="string"&&M0.call(r,"index")&&(i.index=r.index,i.input=r.input),i}rh.exports=E0});var oh=m((vL,ah)=>{"use strict";var S0=Ee(),C0=S0.Uint8Array;ah.exports=C0});var Sr=m((gL,uh)=>{"use strict";var sh=oh();function A0(r){var a=new r.constructor(r.byteLength);return new sh(a).set(new sh(r)),a}uh.exports=A0});var ch=m((yL,lh)=>{"use strict";var O0=Sr();function I0(r,a){var i=a?O0(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}lh.exports=I0});var fh=m((bL,hh)=>{"use strict";var D0=/\w*$/;function z0(r){var a=new r.constructor(r.source,D0.exec(r));return a.lastIndex=r.lastIndex,a}hh.exports=z0});var vh=m((xL,mh)=>{"use strict";var dh=yr(),ph=dh?dh.prototype:void 0,_h=ph?ph.valueOf:void 0;function q0(r){return _h?Object(_h.call(r)):{}}mh.exports=q0});var yh=m((wL,gh)=>{"use strict";var B0=Sr();function F0(r,a){var i=a?B0(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}gh.exports=F0});var xh=m((PL,bh)=>{"use strict";var R0=Sr(),Z0=ch(),N0=fh(),j0=vh(),H0=yh(),G0="[object Boolean]",Y0="[object Date]",W0="[object Map]",V0="[object Number]",U0="[object RegExp]",X0="[object Set]",K0="[object String]",J0="[object Symbol]",$0="[object ArrayBuffer]",Q0="[object DataView]",ex="[object Float32Array]",tx="[object Float64Array]",ix="[object Int8Array]",rx="[object Int16Array]",nx="[object Int32Array]",ax="[object Uint8Array]",ox="[object Uint8ClampedArray]",sx="[object Uint16Array]",ux="[object Uint32Array]";function lx(r,a,i){var s=r.constructor;switch(a){case $0:return R0(r);case G0:case Y0:return new s(+r);case Q0:return Z0(r,i);case ex:case tx:case ix:case rx:case nx:case ax:case ox:case sx:case ux:return H0(r,i);case W0:return new s;case V0:case K0:return new s(r);case U0:return N0(r);case X0:return new s;case J0:return j0(r)}}bh.exports=lx});var Th=m((TL,Ph)=>{"use strict";var cx=Zt(),wh=Object.create,hx=function(){function r(){}return function(a){if(!cx(a))return{};if(wh)return wh(a);r.prototype=a;var i=new r;return r.prototype=void 0,i}}();Ph.exports=hx});var Lh=m((kL,kh)=>{"use strict";var fx=Th(),dx=oa(),px=Tr();function _x(r){return typeof r.constructor=="function"&&!px(r)?fx(dx(r)):{}}kh.exports=_x});var Eh=m((LL,Mh)=>{"use strict";var mx=Er(),vx=Gt(),gx="[object Map]";function yx(r){return vx(r)&&mx(r)==gx}Mh.exports=yx});var Oh=m((ML,Ah)=>{"use strict";var bx=Eh(),xx=wr(),Sh=Pr(),Ch=Sh&&Sh.isMap,wx=Ch?xx(Ch):bx;Ah.exports=wx});var Dh=m((EL,Ih)=>{"use strict";var Px=Er(),Tx=Gt(),kx="[object Set]";function Lx(r){return Tx(r)&&Px(r)==kx}Ih.exports=Lx});var Fh=m((SL,Bh)=>{"use strict";var Mx=Dh(),Ex=wr(),zh=Pr(),qh=zh&&zh.isSet,Sx=qh?Ex(qh):Mx;Bh.exports=Sx});var Hh=m((CL,jh)=>{"use strict";var Cx=yl(),Ax=xl(),Ox=Jn(),Ix=cc(),Dx=vc(),zx=wc(),qx=Tc(),Bx=Ac(),Fx=qc(),Rx=Rc(),Zx=Nc(),Nx=Er(),jx=nh(),Hx=xh(),Gx=Lh(),Yx=xr(),Wx=$n(),Vx=Oh(),Ux=Zt(),Xx=Fh(),Kx=kr(),Jx=Lr(),$x=1,Qx=2,e1=4,Rh="[object Arguments]",t1="[object Array]",i1="[object Boolean]",r1="[object Date]",n1="[object Error]",Zh="[object Function]",a1="[object GeneratorFunction]",o1="[object Map]",s1="[object Number]",Nh="[object Object]",u1="[object RegExp]",l1="[object Set]",c1="[object String]",h1="[object Symbol]",f1="[object WeakMap]",d1="[object ArrayBuffer]",p1="[object DataView]",_1="[object Float32Array]",m1="[object Float64Array]",v1="[object Int8Array]",g1="[object Int16Array]",y1="[object Int32Array]",b1="[object Uint8Array]",x1="[object Uint8ClampedArray]",w1="[object Uint16Array]",P1="[object Uint32Array]",X={};X[Rh]=X[t1]=X[d1]=X[p1]=X[i1]=X[r1]=X[_1]=X[m1]=X[v1]=X[g1]=X[y1]=X[o1]=X[s1]=X[Nh]=X[u1]=X[l1]=X[c1]=X[h1]=X[b1]=X[x1]=X[w1]=X[P1]=!0;X[n1]=X[Zh]=X[f1]=!1;function Cr(r,a,i,s,c,l){var f,_=a&$x,p=a&Qx,g=a&e1;if(i&&(f=c?i(r,s,c,l):i(r)),f!==void 0)return f;if(!Ux(r))return r;var T=Yx(r);if(T){if(f=jx(r),!_)return qx(r,f)}else{var P=Nx(r),w=P==Zh||P==a1;if(Wx(r))return zx(r,_);if(P==Nh||P==Rh||w&&!c){if(f=p||w?{}:Gx(r),!_)return p?Fx(r,Dx(f,r)):Bx(r,Ix(f,r))}else{if(!X[P])return c?r:{};f=Hx(r,P,_)}}l||(l=new Cx);var x=l.get(r);if(x)return x;l.set(r,f),Xx(r)?r.forEach(function(S){f.add(Cr(S,a,i,S,r,l))}):Vx(r)&&r.forEach(function(S,D){f.set(D,Cr(S,a,i,D,r,l))});var E=g?p?Zx:Rx:p?Jx:Kx,k=T?void 0:E(r);return Ax(k||r,function(S,D){k&&(D=S,S=r[D]),Ox(f,D,Cr(S,a,i,D,r,l))}),f}jh.exports=Cr});var Yh=m((AL,Gh)=>{"use strict";var T1=Hh(),k1=1,L1=4;function M1(r){return T1(r,k1|L1)}Gh.exports=M1});var Mi=m(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.default=void 0;var Wh=Vh(Yh()),E1=Vh(Ie());function Vh(r){return r&&r.__esModule?r:{default:r}}var OL=Ar.default=function(a){var i=a.blocks.reduce(function(c,l){return c[l.name]=l,c},{}),s=function(l,f){var _=[];return l.forEach(function(p){if(p.type==="INSERT"){var g,T,P,w,x,E=p,k=i[E.block];if(!k){E1.default.error("no block found for insert. block:",E.block);return}var S=(g=E.rowCount)!==null&&g!==void 0?g:1,D=(T=E.columnCount)!==null&&T!==void 0?T:1,G=(P=E.rowSpacing)!==null&&P!==void 0?P:0,Y=(w=E.columnSpacing)!==null&&w!==void 0?w:0,V=(x=E.rotation)!==null&&x!==void 0?x:0,K,ie;if(S>1||D>1){var me=Math.cos(V*Math.PI/180),he=Math.sin(V*Math.PI/180);K={x:-he*G,y:me*G},ie={x:me*Y,y:he*Y}}else K={x:0,y:0},ie={x:0,y:0};for(var W=0;W<S;W++)for(var re=0;re<D;re++){var vt={x:E.x+K.x*W+ie.x*re,y:E.y+K.y*W+ie.y*re,scaleX:E.scaleX,scaleY:E.scaleY,scaleZ:E.scaleZ,extrusionX:E.extrusionX,extrusionY:E.extrusionY,extrusionZ:E.extrusionZ,rotation:E.rotation},de=f.slice(0);de.push(vt);var Mt=k.entities.map(function(gt){var A=(0,Wh.default)(gt);switch(A.layer=E.layer,A.type){case"LINE":{A.start.x-=k.x,A.start.y-=k.y,A.end.x-=k.x,A.end.y-=k.y;break}case"LWPOLYLINE":case"POLYLINE":{A.vertices.forEach(function(We){We.x-=k.x,We.y-=k.y});break}case"CIRCLE":case"ELLIPSE":case"ARC":{A.x-=k.x,A.y-=k.y;break}case"SPLINE":{A.controlPoints.forEach(function(We){We.x-=k.x,We.y-=k.y});break}}return A});_=_.concat(s(Mt,de))}}else{var fe=(0,Wh.default)(p);fe.transforms=f.slice().reverse(),_.push(fe)}}),_};return s(a.entities,[])}});var pa=m(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.default=void 0;var DL=Or.default=function(a){return a.reduce(function(i,s){var c=s.layer;return i[c]||(i[c]=[]),i[c].push(s),i},{})}});var zr=m(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.default=void 0;function Ir(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ir=function(i){return typeof i}:Ir=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ir(r)}function S1(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function Uh(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function C1(r,a,i){return a&&Uh(r.prototype,a),i&&Uh(r,i),r}var A1=function(){function r(a,i){S1(this,r),Ir(a)==="object"?(this.x=a.x,this.y=a.y):(this.x=a,this.y=i)}return C1(r,[{key:"equals",value:function(i){return this.x===i.x&&this.y===i.y}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"neg",value:function(){return new r(-this.x,-this.y)}},{key:"add",value:function(i){return new r(this.x+i.x,this.y+i.y)}},{key:"sub",value:function(i){return new r(this.x-i.x,this.y-i.y)}},{key:"multiply",value:function(i){return new r(this.x*i,this.y*i)}},{key:"norm",value:function(){return this.multiply(1/this.length())}},{key:"dot",value:function(i){return this.x*i.x+this.y*i.y}}]),r}(),O1=A1;Dr.default=O1});var Ei=m(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.default=void 0;function qr(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qr=function(i){return typeof i}:qr=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},qr(r)}function I1(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function Xh(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function D1(r,a,i){return a&&Xh(r.prototype,a),i&&Xh(r,i),r}var z1=function(){function r(a,i,s){I1(this,r),qr(a)==="object"?(this.x=a.x,this.y=a.y,this.z=a.z):a===void 0?(this.x=0,this.y=0,this.z=0):(this.x=a,this.y=i,this.z=s)}return D1(r,[{key:"equals",value:function(i,s){return s===void 0&&(s=0),Math.abs(this.x-i.x)<=s&&Math.abs(this.y-i.y)<=s&&Math.abs(this.z-i.z)<=s}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"neg",value:function(){return new r(-this.x,-this.y,-this.z)}},{key:"add",value:function(i){return new r(this.x+i.x,this.y+i.y,this.z+i.z)}},{key:"sub",value:function(i){return new r(this.x-i.x,this.y-i.y,this.z-i.z)}},{key:"multiply",value:function(i){return new r(this.x*i,this.y*i,this.z*i)}},{key:"norm",value:function(){return this.multiply(1/this.length())}},{key:"dot",value:function(i){return this.x*i.x+this.y*i.y+this.z*i.z}},{key:"cross",value:function(i){return new r(this.y*i.z-this.z*i.y,this.z*i.x-this.x*i.z,this.x*i.y-this.y*i.x)}}]),r}(),q1=z1;Br.default=q1});var Jh=m(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.default=void 0;var Xt=B1(zr());function B1(r){return r&&r.__esModule?r:{default:r}}function Si(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Si=function(i){return typeof i}:Si=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Si(r)}function F1(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function Kh(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function R1(r,a,i){return a&&Kh(r.prototype,a),i&&Kh(r,i),r}var _a=function(){function r(a,i){if(F1(this,r),Si(a)==="object"&&Si(i)==="object"&&a.x!==void 0&&a.y!==void 0&&i.x!==void 0&&i.y!==void 0)this.min=new Xt.default(a),this.max=new Xt.default(i),this.valid=!0;else if(a===void 0&&i===void 0)this.min=new Xt.default(1/0,1/0),this.max=new Xt.default(-1/0,-1/0),this.valid=!1;else throw Error("Illegal construction - must use { x, y } objects")}return R1(r,[{key:"equals",value:function(i){if(!this.valid)throw Error("Box2 is invalid");return this.min.equals(i.min)&&this.max.equals(i.max)}},{key:"expandByPoint",value:function(i){return this.min=new Xt.default(Math.min(this.min.x,i.x),Math.min(this.min.y,i.y)),this.max=new Xt.default(Math.max(this.max.x,i.x),Math.max(this.max.y,i.y)),this.valid=!0,this}},{key:"expandByPoints",value:function(i){var s=this;return i.forEach(function(c){s.expandByPoint(c)},this),this}},{key:"isPointInside",value:function(i){return i.x>=this.min.x&&i.y>=this.min.y&&i.x<=this.max.x&&i.y<=this.max.y}},{key:"width",get:function(){if(!this.valid)throw Error("Box2 is invalid");return this.max.x-this.min.x}},{key:"height",get:function(){if(!this.valid)throw Error("Box2 is invalid");return this.max.y-this.min.y}}]),r}();_a.fromPoints=function(r){return new _a().expandByPoints(r)};var Z1=_a;Fr.default=Z1});var Qh=m(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.default=void 0;var Kt=N1(Ei());function N1(r){return r&&r.__esModule?r:{default:r}}function Ci(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ci=function(i){return typeof i}:Ci=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ci(r)}function j1(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function $h(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function H1(r,a,i){return a&&$h(r.prototype,a),i&&$h(r,i),r}var ma=function(){function r(a,i){if(j1(this,r),Ci(a)==="object"&&Ci(i)==="object"&&a.x!==void 0&&a.y!==void 0&&a.z!==void 0&&i.x!==void 0&&i.y!==void 0&&i.z!==void 0)this.min=new Kt.default(a),this.max=new Kt.default(i),this.valid=!0;else if(a===void 0&&i===void 0)this.min=new Kt.default(1/0,1/0,1/0),this.max=new Kt.default(-1/0,-1/0,-1/0),this.valid=!1;else throw Error("Illegal construction - must use { x, y, z } objects")}return H1(r,[{key:"equals",value:function(i){if(!this.valid)throw Error("Box3 is invalid");return this.min.equals(i.min)&&this.max.equals(i.max)}},{key:"expandByPoint",value:function(i){return this.min=new Kt.default(Math.min(this.min.x,i.x),Math.min(this.min.y,i.y),Math.min(this.min.z,i.z)),this.max=new Kt.default(Math.max(this.max.x,i.x),Math.max(this.max.y,i.y),Math.max(this.max.z,i.z)),this.valid=!0,this}},{key:"expandByPoints",value:function(i){var s=this;return i.forEach(function(c){s.expandByPoint(c)},this),this}},{key:"isPointInside",value:function(i){return i.x>=this.min.x&&i.y>=this.min.y&&i.z>=this.min.z&&i.x<=this.max.x&&i.y<=this.max.y&&i.z<=this.max.z}},{key:"width",get:function(){if(!this.valid)throw Error("Box3 is invalid");return this.max.x-this.min.x}},{key:"depth",get:function(){if(!this.valid)throw Error("Box3 is invalid");return this.max.y-this.min.y}},{key:"height",get:function(){if(!this.valid)throw Error("Box3 is invalid");return this.max.z-this.min.z}}]),r}();ma.fromPoints=function(r){return new ma().expandByPoints(r)};var G1=ma;Rr.default=G1});var tf=m(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.default=void 0;function Y1(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function ef(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function W1(r,a,i){return a&&ef(r.prototype,a),i&&ef(r,i),r}var Ai=function(){function r(a,i,s,c){Y1(this,r),this.a=a,this.b=i,this.c=s,this.d=c}return W1(r,[{key:"distanceToPoint",value:function(i){var s=(this.a*i.x+this.b*i.y+this.c*i.z+this.d)/Math.sqrt(this.a*this.a+this.b*this.b+this.c*this.c);return s}},{key:"equals",value:function(i){return this.a===i.a&&this.b===i.b&&this.c===i.c&&this.d===i.d}},{key:"coPlanar",value:function(i){var s=this.a===i.a&&this.b===i.b&&this.c===i.c&&this.d===i.d,c=this.a===-i.a&&this.b===-i.b&&this.c===-i.c&&this.d===-i.d;return s||c}}]),r}();Ai.fromPointAndNormal=function(r,a){var i=a.x,s=a.y,c=a.z,l=-(r.x*i+r.y*s+r.z*c);return new Ai(a.x,a.y,a.z,l)};Ai.fromPoints=function(r){for(var a,i=0,s=r.length;i<s;++i){var c=r[(i+1)%s].sub(r[i]),l=r[(i+2)%s].sub(r[(i+1)%s]),f=c.cross(l);if(!(isNaN(f.length())||f.length()===0))if(!a)a=f.norm();else{var _=f.norm().equals(a,1e-6),p=f.neg().norm().equals(a,1e-6);if(!(_||p))throw Error("points not on a plane")}}if(!a)throw Error("points not on a plane");return Ai.fromPointAndNormal(r[0],a.norm())};var V1=Ai;Zr.default=V1});var nf=m(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.default=void 0;var U1=X1(Ei());function X1(r){return r&&r.__esModule?r:{default:r}}function K1(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function rf(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function J1(r,a,i){return a&&rf(r.prototype,a),i&&rf(r,i),r}var va=function(){function r(a,i,s,c){K1(this,r),this.x=a,this.y=i,this.z=s,this.w=c}return J1(r,[{key:"applyToVec3",value:function(i){var s=i.x,c=i.y,l=i.z,f=this.x,_=this.y,p=this.z,g=this.w,T=g*s+_*l-p*c,P=g*c+p*s-f*l,w=g*l+f*c-_*s,x=-f*s-_*c-p*l;return new U1.default(T*g+x*-f+P*-p-w*-_,P*g+x*-_+w*-f-T*-p,w*g+x*-p+T*-_-P*-f)}}]),r}();va.fromAxisAngle=function(r,a){var i=r.norm(),s=a/2,c=Math.sin(s);return new va(i.x*c,i.y*c,i.z*c,Math.cos(s))};var $1=va;Nr.default=$1});var of=m(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.default=void 0;var ya=Q1(zr());function Q1(r){return r&&r.__esModule?r:{default:r}}function Oi(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oi=function(i){return typeof i}:Oi=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Oi(r)}function ew(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function af(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function tw(r,a,i){return a&&af(r.prototype,a),i&&af(r,i),r}var jr=function(a,i,s){var c=a.x,l=a.y,f=i.x,_=i.y,p=s.x,g=s.y,T=(g-l)*(f-c),P=(_-l)*(p-c);return T>P+Number.EPSILON?1:T+Number.EPSILON<P?-1:0},iw=function(a,i){var s=a.a,c=a.b,l=i.a,f=i.b;return jr(s,l,f)!==jr(c,l,f)&&jr(s,c,l)!==jr(s,c,f)},rw=function(a,i){var s=a.a.x,c=a.b.x,l=a.a.y,f=a.b.y,_=i.a.x,p=i.b.x,g=i.a.y,T=i.b.y,P=s-c,w=_-p,x=l-f,E=g-T,k=P*E-x*w,S=((s*f-l*c)*w-P*(_*T-g*p))/k,D=((s*f-l*c)*E-x*(_*T-g*p))/k;return isNaN(S)||isNaN(D)?null:new ya.default(S,D)},ga=function(a,i){return Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2))},nw=function(){function r(a,i){if(ew(this,r),Oi(a)!=="object"||a.x===void 0||a.y===void 0)throw Error("expected first argument to have x and y properties");if(Oi(i)!=="object"||i.x===void 0||i.y===void 0)throw Error("expected second argument to have x and y properties");this.a=new ya.default(a),this.b=new ya.default(i)}return tw(r,[{key:"length",value:function(){return this.a.sub(this.b).length()}},{key:"intersects",value:function(i){if(!(i instanceof r))throw new Error("expected argument to be an instance of vecks.Line2");return iw(this,i)}},{key:"getIntersection",value:function(i){return this.intersects(i)?rw(this,i):null}},{key:"containsPoint",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e-12;return Math.abs(ga(this.a,this.b)-ga(i,this.a)-ga(i,this.b))<s}}]),r}(),aw=nw;Hr.default=aw});var lf=m(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.default=void 0;var sf=ow(Ei());function ow(r){return r&&r.__esModule?r:{default:r}}function Ii(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ii=function(i){return typeof i}:Ii=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ii(r)}function sw(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function uf(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function uw(r,a,i){return a&&uf(r.prototype,a),i&&uf(r,i),r}var ba=function(a,i){return Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2)+Math.pow(a.z-i.z,2))},lw=function(){function r(a,i){if(sw(this,r),Ii(a)!=="object"||a.x===void 0||a.y===void 0||a.z===void 0)throw Error("expected first argument to have x, y and z properties");if(Ii(i)!=="object"||i.x===void 0||i.y===void 0||i.y===void 0)throw Error("expected second argument to have x, y and z properties");this.a=new sf.default(a),this.b=new sf.default(i)}return uw(r,[{key:"length",value:function(){return this.a.sub(this.b).length()}},{key:"containsPoint",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e-12;return Math.abs(ba(this.a,this.b)-ba(i,this.a)-ba(i,this.b))<s}}]),r}(),cw=lw;Gr.default=cw});var Di=m(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Object.defineProperty(Be,"V2",{enumerable:!0,get:function(){return hw.default}});Object.defineProperty(Be,"V3",{enumerable:!0,get:function(){return fw.default}});Object.defineProperty(Be,"Box2",{enumerable:!0,get:function(){return dw.default}});Object.defineProperty(Be,"Box3",{enumerable:!0,get:function(){return pw.default}});Object.defineProperty(Be,"Plane3",{enumerable:!0,get:function(){return _w.default}});Object.defineProperty(Be,"Quaternion",{enumerable:!0,get:function(){return mw.default}});Object.defineProperty(Be,"Line2",{enumerable:!0,get:function(){return vw.default}});Object.defineProperty(Be,"Line3",{enumerable:!0,get:function(){return gw.default}});var hw=pt(zr()),fw=pt(Ei()),dw=pt(Jh()),pw=pt(Qh()),_w=pt(tf()),mw=pt(nf()),vw=pt(of()),gw=pt(lf());function pt(r){return r&&r.__esModule?r:{default:r}}});var Wr=m(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.default=void 0;var YL=Yr.default=[[0,0,0],[255,0,0],[255,255,0],[0,255,0],[0,255,255],[0,0,255],[255,0,255],[255,255,255],[65,65,65],[128,128,128],[255,0,0],[255,170,170],[189,0,0],[189,126,126],[129,0,0],[129,86,86],[104,0,0],[104,69,69],[79,0,0],[79,53,53],[255,63,0],[255,191,170],[189,46,0],[189,141,126],[129,31,0],[129,96,86],[104,25,0],[104,78,69],[79,19,0],[79,59,53],[255,127,0],[255,212,170],[189,94,0],[189,157,126],[129,64,0],[129,107,86],[104,52,0],[104,86,69],[79,39,0],[79,66,53],[255,191,0],[255,234,170],[189,141,0],[189,173,126],[129,96,0],[129,118,86],[104,78,0],[104,95,69],[79,59,0],[79,73,53],[255,255,0],[255,255,170],[189,189,0],[189,189,126],[129,129,0],[129,129,86],[104,104,0],[104,104,69],[79,79,0],[79,79,53],[191,255,0],[234,255,170],[141,189,0],[173,189,126],[96,129,0],[118,129,86],[78,104,0],[95,104,69],[59,79,0],[73,79,53],[127,255,0],[212,255,170],[94,189,0],[157,189,126],[64,129,0],[107,129,86],[52,104,0],[86,104,69],[39,79,0],[66,79,53],[63,255,0],[191,255,170],[46,189,0],[141,189,126],[31,129,0],[96,129,86],[25,104,0],[78,104,69],[19,79,0],[59,79,53],[0,255,0],[170,255,170],[0,189,0],[126,189,126],[0,129,0],[86,129,86],[0,104,0],[69,104,69],[0,79,0],[53,79,53],[0,255,63],[170,255,191],[0,189,46],[126,189,141],[0,129,31],[86,129,96],[0,104,25],[69,104,78],[0,79,19],[53,79,59],[0,255,127],[170,255,212],[0,189,94],[126,189,157],[0,129,64],[86,129,107],[0,104,52],[69,104,86],[0,79,39],[53,79,66],[0,255,191],[170,255,234],[0,189,141],[126,189,173],[0,129,96],[86,129,118],[0,104,78],[69,104,95],[0,79,59],[53,79,73],[0,255,255],[170,255,255],[0,189,189],[126,189,189],[0,129,129],[86,129,129],[0,104,104],[69,104,104],[0,79,79],[53,79,79],[0,191,255],[170,234,255],[0,141,189],[126,173,189],[0,96,129],[86,118,129],[0,78,104],[69,95,104],[0,59,79],[53,73,79],[0,127,255],[170,212,255],[0,94,189],[126,157,189],[0,64,129],[86,107,129],[0,52,104],[69,86,104],[0,39,79],[53,66,79],[0,63,255],[170,191,255],[0,46,189],[126,141,189],[0,31,129],[86,96,129],[0,25,104],[69,78,104],[0,19,79],[53,59,79],[0,0,255],[170,170,255],[0,0,189],[126,126,189],[0,0,129],[86,86,129],[0,0,104],[69,69,104],[0,0,79],[53,53,79],[63,0,255],[191,170,255],[46,0,189],[141,126,189],[31,0,129],[96,86,129],[25,0,104],[78,69,104],[19,0,79],[59,53,79],[127,0,255],[212,170,255],[94,0,189],[157,126,189],[64,0,129],[107,86,129],[52,0,104],[86,69,104],[39,0,79],[66,53,79],[191,0,255],[234,170,255],[141,0,189],[173,126,189],[96,0,129],[118,86,129],[78,0,104],[95,69,104],[59,0,79],[73,53,79],[255,0,255],[255,170,255],[189,0,189],[189,126,189],[129,0,129],[129,86,129],[104,0,104],[104,69,104],[79,0,79],[79,53,79],[255,0,191],[255,170,234],[189,0,141],[189,126,173],[129,0,96],[129,86,118],[104,0,78],[104,69,95],[79,0,59],[79,53,73],[255,0,127],[255,170,212],[189,0,94],[189,126,157],[129,0,64],[129,86,107],[104,0,52],[104,69,86],[79,0,39],[79,53,66],[255,0,63],[255,170,191],[189,0,46],[189,126,141],[129,0,31],[129,86,96],[104,0,25],[104,69,78],[79,0,19],[79,53,59],[51,51,51],[80,80,80],[105,105,105],[130,130,130],[190,190,190],[255,255,255]]});var cf=m(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.default=void 0;var VL=Vr.default=function(a,i){return typeof i>"u"||+i==0?Math.round(a):(a=+a,i=+i,isNaN(a)||!(typeof i=="number"&&i%1===0)?NaN:(a=a.toString().split("e"),a=Math.round(+(a[0]+"e"+(a[1]?+a[1]-i:-i))),a=a.toString().split("e"),+(a[0]+"e"+(a[1]?+a[1]+i:i))))}});var hf=m(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.default=void 0;var yw=bw(cf());function bw(r){return r&&r.__esModule?r:{default:r}}var XL=Ur.default=function(a,i,s,c,l){var f=s.length,_=s[0].length;if(a<0||a>1)throw new Error("t out of bounds [0,1]: "+a);if(i<1)throw new Error("degree must be at least 1 (linear)");if(i>f-1)throw new Error("degree must be less than or equal to point count - 1");if(!l){l=[];for(var p=0;p<f;p++)l[p]=1}if(c){if(c.length!==f+i+1)throw new Error("bad knot vector length")}else{c=[];for(var g=0;g<f+i+1;g++)c[g]=g}var T=[i,c.length-1-i],P=c[T[0]],w=c[T[1]];a=a*(w-P)+P,a=Math.max(a,P),a=Math.min(a,w);var x;for(x=T[0];x<T[1]&&!(a>=c[x]&&a<=c[x+1]);x++);for(var E=[],k=0;k<f;k++){E[k]=[];for(var S=0;S<_;S++)E[k][S]=s[k][S]*l[k];E[k][_]=l[k]}for(var D,G=1;G<=i+1;G++)for(var Y=x;Y>x-i-1+G;Y--){D=(a-c[Y])/(c[Y+i+1-G]-c[Y]);for(var V=0;V<_+1;V++)E[Y][V]=(1-D)*E[Y-1][V]+D*E[Y][V]}for(var K=[],ie=0;ie<_;ie++)K[ie]=(0,yw.default)(E[x][ie]/E[x][_],-9);return K}});var ff=m(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.default=void 0;var kt=Di(),JL=Xr.default=function(a,i,s,c){c||(c=5);var l,f,_;s<0?(l=Math.atan(-s)*4,f=new kt.V2(a[0],a[1]),_=new kt.V2(i[0],i[1])):(l=Math.atan(s)*4,f=new kt.V2(i[0],i[1]),_=new kt.V2(a[0],a[1]));var p=_.sub(f),g=p.length(),T=f.add(p.multiply(.5)),P=Math.abs(g/2/Math.tan(l/2)),w=p.norm(),x;if(l<Math.PI){var E=new kt.V2(w.x*Math.cos(Math.PI/2)-w.y*Math.sin(Math.PI/2),w.y*Math.cos(Math.PI/2)+w.x*Math.sin(Math.PI/2));x=T.add(E.multiply(-P))}else{var k=new kt.V2(w.x*Math.cos(Math.PI/2)-w.y*Math.sin(Math.PI/2),w.y*Math.cos(Math.PI/2)+w.x*Math.sin(Math.PI/2));x=T.add(k.multiply(P))}var S=Math.atan2(_.y-x.y,_.x-x.x)/Math.PI*180,D=Math.atan2(f.y-x.y,f.x-x.x)/Math.PI*180;D<S&&(D+=360);for(var G=_.sub(x).length(),Y=Math.floor(S/c)*c+c,V=Math.ceil(D/c)*c-c,K=[],ie=Y;ie<=V;ie+=c)K.push(x.add(new kt.V2(Math.cos(ie/180*Math.PI)*G,Math.sin(ie/180*Math.PI)*G)));return s<0&&K.reverse(),K.map(function(me){return[me.x,me.y]})}});var ka=m(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.polyfaceOutline=_t.interpolateBSpline=_t.default=void 0;var xw=Ta(hf()),df=Ta(Ie()),ww=Ta(ff());function Ta(r){return r&&r.__esModule?r:{default:r}}function pf(r){return kw(r)||Tw(r)||_f(r)||Pw()}function Pw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tw(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kw(r){if(Array.isArray(r))return Pa(r)}function xa(r,a){var i=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=_f(r))||a&&r&&typeof r.length=="number"){i&&(r=i);var s=0,c=function(){};return{s:c,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(g){throw g},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,f=!0,_=!1;return{s:function(){i=i.call(r)},n:function(){var g=i.next();return f=g.done,g},e:function(g){_=!0,l=g},f:function(){try{f||i.return==null||i.return()}finally{if(_)throw l}}}}function _f(r,a){if(r){if(typeof r=="string")return Pa(r,a);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Pa(r,a):void 0}}function Pa(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,s=Array(a);i<a;i++)s[i]=r[i];return s}var Lw=function(a,i){return a.map(function(s){return[s[0]*Math.cos(i)-s[1]*Math.sin(i),s[1]*Math.cos(i)+s[0]*Math.sin(i)]})},wa=function(a,i,s,c,l,f,_){f<l&&(f+=Math.PI*2);for(var p=[],g=Math.PI*2/72,T=1e-6,P=l;P<f-T;P+=g)p.push([Math.cos(P)*s,Math.sin(P)*c]);return p.push([Math.cos(f)*s,Math.sin(f)*c]),_&&(p=Lw(p,_)),p=p.map(function(w){return[a+w[0],i+w[1]]}),p},Mw=_t.interpolateBSpline=function(a,i,s,c,l){for(var f=[],_=a.map(function(G){return[G.x,G.y]}),p=[s[i]],g=[s[i],s[s.length-1-i]],T=i+1;T<s.length-i;++T)p[p.length-1]!==s[T]&&p.push(s[T]);c=c||25;for(var P=1;P<p.length;++P)for(var w=p[P-1],x=p[P],E=0;E<=c;++E){var k=E/c*(x-w)+w,S=(k-g[0])/(g[1]-g[0]);S=Math.max(S,0),S=Math.min(S,1);var D=(0,xw.default)(S,i,_,s,l);f.push(D)}return f},Ew=_t.polyfaceOutline=function(a){var i=[],s=[],c=xa(a.vertices),l;try{for(c.s();!(l=c.n()).done;){var f=l.value;if(f.faces){var _={indices:[],hiddens:[]},p=xa(f.faces),g;try{for(p.s();!(g=p.n()).done;){var T=g.value;if(T===0)break;_.indices.push(T<0?-T-1:T-1),_.hiddens.push(T<0)}}catch(he){p.e(he)}finally{p.f()}[3,4].includes(_.indices.length)&&s.push(_)}else i.push({x:f.x,y:f.y})}}catch(he){c.e(he)}finally{c.f()}for(var P=[],w=function(W,re){for(var vt=0,de=P;vt<de.length;vt++){var Mt=de[vt];if(Mt.slice(-1)[0]===W)return Mt.push(re)}P.push([W,re])},x=0,E=s;x<E.length;x++)for(var k=E[x],S=0;S<k.indices.length;S++)if(!k.hiddens[S]){var D=(S+1)%k.indices.length;w(k.indices[S],k.indices[D])}for(var G=0,Y=P;G<Y.length;G++){var V=Y[G],K=xa(P),ie;try{for(K.s();!(ie=K.n()).done;){var me=ie.value;if(V!==me&&V[0]===me.slice(-1)[0]){me.push.apply(me,pf(V.slice(1))),V.splice(0,V.length);break}}}catch(he){K.e(he)}finally{K.f()}}return P.filter(function(he){return he.length}).map(function(he){return he.map(function(W){return i[W]}).map(function(W){return[W.x,W.y]})})},QL=_t.default=function(a,i){i=i||{};var s;if(a.type==="LINE"&&(s=[[a.start.x,a.start.y],[a.end.x,a.end.y]]),a.type==="LWPOLYLINE"||a.type==="POLYLINE"){if(s=[],a.polyfaceMesh){var c;(c=s).push.apply(c,pf(Ew(a)[0]))}else if(!a.polygonMesh)if(a.vertices.length){a.closed&&(a.vertices=a.vertices.concat(a.vertices[0]));for(var l=0,f=a.vertices.length;l<f-1;++l){var _=[a.vertices[l].x,a.vertices[l].y],p=[a.vertices[l+1].x,a.vertices[l+1].y];s.push(_),a.vertices[l].bulge&&(s=s.concat((0,ww.default)(_,p,a.vertices[l].bulge))),l===f-2&&s.push(p)}}else df.default.warn("Polyline entity with no vertices")}if(a.type==="CIRCLE"&&(s=wa(a.x,a.y,a.r,a.r,0,Math.PI*2),a.extrusionZ===-1&&(s=s.map(function(w){return[-w[0],w[1]]}))),a.type==="ELLIPSE"){var g=Math.sqrt(a.majorX*a.majorX+a.majorY*a.majorY),T=a.axisRatio*g,P=-Math.atan2(-a.majorY,a.majorX);s=wa(a.x,a.y,g,T,a.startAngle,a.endAngle,P),a.extrusionZ===-1&&(s=s.map(function(w){return[-w[0],w[1]]}))}return a.type==="ARC"&&(s=wa(a.x,a.y,a.r,a.r,a.startAngle,a.endAngle,void 0,!1),a.extrusionZ===-1&&(s=s.map(function(w){return[-w[0],w[1]]}))),a.type==="SPLINE"&&(s=Mw(a.controlPoints,a.degree,a.knots,i.interpolationsPerSplineSegment,a.weights)),s||(df.default.warn("unsupported entity for converting to polyline:",a.type),[])}});var mf=m(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.default=void 0;var tM=Kr.default=function(a,i){return i.forEach(function(s){a=a.map(function(c){var l=[c[0],c[1]];if(s.scaleX&&(l[0]=l[0]*s.scaleX),s.scaleY&&(l[1]=l[1]*s.scaleY),s.rotation){var f=s.rotation/180*Math.PI;l=[l[0]*Math.cos(f)-l[1]*Math.sin(f),l[1]*Math.cos(f)+l[0]*Math.sin(f)]}return s.x&&(l[0]=l[0]+s.x),s.y&&(l[1]=l[1]+s.y),s.extrusionZ===-1&&(l[0]=-l[0]),l})}),a}});var La=m(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.default=void 0;var Sw=Di(),vf=zi(Wr()),Cw=zi(Mi()),Aw=zi(ka()),Ow=zi(mf()),Iw=zi(Ie());function zi(r){return r&&r.__esModule?r:{default:r}}var rM=Jr.default=function(a){var i=(0,Cw.default)(a),s=i.map(function(l){var f=a.tables.layers[l.layer],_=0;return"colorNumber"in l?_=l.colorNumber:f&&(_=f.colorNumber),vf.default[_]===void 0&&(Iw.default.warn("Color index",_,"invalid, defaulting to black"),_=0),{rgb:vf.default[_],vertices:(0,Ow.default)((0,Aw.default)(l),l.transforms)}}),c=new Sw.Box2;return s.forEach(function(l){l.vertices.forEach(function(f){c.expandByPoint({x:f[0],y:f[1]})})}),{bbox:c,polylines:s}}});var bf=m($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.default=void 0;var Dw=yf(Wr()),gf=yf(Ie());function yf(r){return r&&r.__esModule?r:{default:r}}var aM=$r.default=function(a,i){var s=a[i.layer];if(s){var c="colorNumber"in i&&i.colorNumber!==256,l=c?i.colorNumber:s.colorNumber,f=Dw.default[l];return f||(gf.default.warn("Color index",l,"invalid, defaulting to black"),[0,0,0])}else return gf.default.warn("no layer table for layer:"+i.layer),[0,0,0]}});var xf=m(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.default=void 0;var sM=Qr.default=function(a,i){return{x:a.x*Math.cos(i)-a.y*Math.sin(i),y:a.y*Math.cos(i)+a.x*Math.sin(i)}}});var wf=m(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.default=void 0;var lM=en.default=function(a){return a[0]===255&&a[1]===255&&a[2]===255?"rgb(0, 0, 0)":"rgb(".concat(a[0],", ").concat(a[1],", ").concat(a[2],")")}});var Pf=m(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.default=void 0;var hM=tn.default=function(a,i,s,c){for(var l=s,f=i,_=i.length,p=0,g=!1,T=0;T<_+a;T++)if(c>l[T]&&c<=l[T+1]){p=T,g=!0;break}if(!g)throw new Error("invalid new knot");for(var P=[],w=0;w<_+a+1;w++)w<=p?P[w]=l[w]:w===p+1?P[w]=c:P[w]=l[w-1];for(var x,E=[],k=0;k<_+1;k++)k<=p-a+1?x=1:p-a+2<=k&&k<=p?l[k+a-1]-l[k]===0?x=0:x=(c-l[k])/(l[k+a-1]-l[k]):x=0,x===0?E[k]=f[k-1]:x===1?E[k]=f[k]:E[k]={x:(1-x)*f[k-1].x+x*f[k].x,y:(1-x)*f[k-1].y+x*f[k].y};return{controlPoints:E,knots:P}}});var Tf=m(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.multiplicity=Fe.default=Fe.computeInsertions=Fe.checkPinned=void 0;var zw=qw(Pf());function qw(r){return r&&r.__esModule?r:{default:r}}var Bw=Fe.checkPinned=function(a,i){for(var s=1;s<a;++s)if(i[s]!==i[0])throw Error("not pinned. order: ".concat(a," knots: ").concat(i));for(var c=i.length-2;c>i.length-a-1;--c)if(i[c]!==i[i.length-1])throw Error("not pinned. order: ".concat(a," knots: ").concat(i))},Fw=Fe.multiplicity=function(a,i){for(var s=1,c=i+1;c<a.length&&a[c]===a[i];++c)++s;return s},Rw=Fe.computeInsertions=function(a,i){for(var s=[],c=a;c<i.length-a;){for(var l=i[c],f=Fw(i,c),_=0;_<a-f-1;++_)s.push(l);c=c+f}return s},dM=Fe.default=function(a,i,s){Bw(a,s);var c=Rw(a,s);return c.reduce(function(l,f){return(0,zw.default)(a,l.controlPoints,l.knots,f)},{controlPoints:i,knots:s})}});var Ef=m(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.default=void 0;var kf=Di();function Lf(r,a){return Hw(r)||jw(r,a)||Nw(r,a)||Zw()}function Zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nw(r,a){if(r){if(typeof r=="string")return Mf(r,a);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Mf(r,a):void 0}}function Mf(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,s=Array(a);i<a;i++)s[i]=r[i];return s}function jw(r,a){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var s,c,l,f,_=[],p=!0,g=!1;try{if(l=(i=i.call(r)).next,a===0){if(Object(i)!==i)return;p=!1}else for(;!(p=(s=l.call(i)).done)&&(_.push(s.value),_.length!==a);p=!0);}catch(T){g=!0,c=T}finally{try{if(!p&&i.return!=null&&(f=i.return(),Object(f)!==f))return}finally{if(g)throw c}}return _}}function Hw(r){if(Array.isArray(r))return r}var _M=rn.default=function(a,i,s){var c="",l=s.map(function(p){var g=p.x||0,T=p.y||0,P=p.scaleX||1,w=p.scaleY||1,x=(p.rotation||0)/180*Math.PI,E=Math.cos,k=Math.sin,S,D,G,Y,V,K;return p.extrusionZ===-1?(S=-P*E(x),D=P*k(x),G=w*k(x),Y=w*E(x),V=-g,K=T):(S=P*E(x),D=P*k(x),G=-w*k(x),Y=w*E(x),V=g,K=T),[S,D,G,Y,V,K]}),f=new kf.Box2;if(a.valid){var _=[{x:a.min.x,y:a.min.y},{x:a.max.x,y:a.min.y},{x:a.max.x,y:a.max.y},{x:a.min.x,y:a.max.y}];l.forEach(function(p){var g=Lf(p,6),T=g[0],P=g[1],w=g[2],x=g[3],E=g[4],k=g[5];_=_.map(function(S){return{x:S.x*T+S.y*w+E,y:S.x*P+S.y*x+k}})}),f=_.reduce(function(p,g){return p.expandByPoint(g)},new kf.Box2)}return l.reverse(),l.forEach(function(p){var g=Lf(p,6),T=g[0],P=g[1],w=g[2],x=g[3],E=g[4],k=g[5];c+='<g transform="matrix('.concat(T," ").concat(P," ").concat(w," ").concat(x," ").concat(E," ").concat(k,')">')}),c+=i,l.forEach(function(p){c+="</g>"}),{bbox:f,element:c}}});var Ca=m(Jt=>{"use strict";function Ea(r){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ea(r)}Object.defineProperty(Jt,"__esModule",{value:!0});Jt.piecewiseToPaths=Jt.default=void 0;var $t=Di(),Gw=Lt(ka()),Yw=Lt(Mi()),Ww=Lt(bf()),Vw=Lt(Ie()),Sf=Lt(xf()),Uw=Lt(wf()),Af=Xw(Tf()),qi=Lt(Ef());function Of(r){if(typeof WeakMap!="function")return null;var a=new WeakMap,i=new WeakMap;return(Of=function(c){return c?i:a})(r)}function Xw(r,a){if(!a&&r&&r.__esModule)return r;if(r===null||Ea(r)!="object"&&typeof r!="function")return{default:r};var i=Of(a);if(i&&i.has(r))return i.get(r);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in r)if(l!=="default"&&{}.hasOwnProperty.call(r,l)){var f=c?Object.getOwnPropertyDescriptor(r,l):null;f&&(f.get||f.set)?Object.defineProperty(s,l,f):s[l]=r[l]}return s.default=r,i&&i.set(r,s),s}function Lt(r){return r&&r.__esModule?r:{default:r}}function Kw(r,a){return eP(r)||Qw(r,a)||$w(r,a)||Jw()}function Jw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $w(r,a){if(r){if(typeof r=="string")return Cf(r,a);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Cf(r,a):void 0}}function Cf(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,s=Array(a);i<a;i++)s[i]=r[i];return s}function Qw(r,a){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var s,c,l,f,_=[],p=!0,g=!1;try{if(l=(i=i.call(r)).next,a===0){if(Object(i)!==i)return;p=!1}else for(;!(p=(s=l.call(i)).done)&&(_.push(s.value),_.length!==a);p=!0);}catch(T){g=!0,c=T}finally{try{if(!p&&i.return!=null&&(f=i.return(),Object(f)!==f))return}finally{if(g)throw c}}return _}}function eP(r){if(Array.isArray(r))return r}var Sa=function(a,i){var s=i.bbox,c=i.element;return a.extrusionZ===-1?{bbox:new $t.Box2().expandByPoint({x:-s.min.x,y:s.min.y}).expandByPoint({x:-s.max.x,y:s.max.y}),element:`<g transform="matrix(-1 0 0 1 0 0)">
        `.concat(c,`
      </g>`)}:{bbox:s,element:c}},Ma=function(a){var i=(0,Gw.default)(a),s=i.reduce(function(l,f){var _=Kw(f,2),p=_[0],g=_[1];return l.expandByPoint({x:p,y:g})},new $t.Box2),c=i.reduce(function(l,f,_){return l+=_===0?"M":"L",l+=f[0]+","+f[1],l},"");return(0,qi.default)(s,'<path d="'.concat(c,'" />'),a.transforms)},tP=function(a){var i=new $t.Box2().expandByPoint({x:a.x+a.r,y:a.y+a.r}).expandByPoint({x:a.x-a.r,y:a.y-a.r}),s='<circle cx="'.concat(a.x,'" cy="').concat(a.y,'" r="').concat(a.r,'" />'),c=Sa(a,{bbox:i,element:s}),l=c.bbox,f=c.element;return(0,qi.default)(l,f,a.transforms)},If=function(a,i,s,c,l,f,_,p){var g=Math.sqrt(s*s+c*c),T=l*g,P=-Math.atan2(-c,s),w=iP(a,i,s,c,l,f,_,p);if(Math.abs(f-_)<1e-9||Math.abs(f-_+Math.PI*2)<1e-9){var x='<g transform="rotate('.concat(P/Math.PI*180," ").concat(a,", ").concat(i,`)">
      <ellipse cx="`).concat(a,'" cy="').concat(i,'" rx="').concat(g,'" ry="').concat(T,`" />
    </g>`);return{bbox:w,element:x}}else{var E=(0,Sf.default)({x:Math.cos(f)*g,y:Math.sin(f)*T},P),k={x:a+E.x,y:i+E.y},S=(0,Sf.default)({x:Math.cos(_)*g,y:Math.sin(_)*T},P),D={x:a+S.x,y:i+S.y},G=_<f?_+Math.PI*2:_,Y=G-f<Math.PI?0:1,V="M ".concat(k.x," ").concat(k.y," A ").concat(g," ").concat(T," ").concat(P/Math.PI*180," ").concat(Y," 1 ").concat(D.x," ").concat(D.y),K='<path d="'.concat(V,'" />');return{bbox:w,element:K}}},iP=function(a,i,s,c,l,f,_,p){for(;f<0;)f+=Math.PI*2;for(;_<=f;)_+=Math.PI*2;var g=[];if(Math.abs(s)<1e-12||Math.abs(c)<1e-12)for(var T=0;T<4;T++)g.push(T/2*Math.PI);else g[0]=Math.atan(-c*l/s)-Math.PI,g[1]=Math.atan(s*l/c)-Math.PI,g[2]=g[0]-Math.PI,g[3]=g[1]-Math.PI;for(var P=4;P>=0;P--){for(;g[P]<f;)g[P]+=Math.PI*2;g[P]>_&&g.splice(P,1)}g.push(f),g.push(_);var w=g.map(function(S){return{x:Math.cos(S),y:Math.sin(S)}}),x=[[s,-c*l],[c,s*l]],E=w.map(function(S){return{x:S.x*x[0][0]+S.y*x[0][1]+a,y:S.x*x[1][0]+S.y*x[1][1]+i}}),k=E.reduce(function(S,D){return S.expandByPoint(D),S},new $t.Box2);return k},rP=function(a){var i=If(a.x,a.y,a.majorX,a.majorY,a.axisRatio,a.startAngle,a.endAngle),s=i.bbox,c=i.element,l=Sa(a,{bbox:s,element:c}),f=l.bbox,_=l.element;return(0,qi.default)(f,_,a.transforms)},nP=function(a){var i=If(a.x,a.y,a.r,0,1,a.startAngle,a.endAngle,a.extrusionZ===-1),s=i.bbox,c=i.element,l=Sa(a,{bbox:s,element:c}),f=l.bbox,_=l.element;return(0,qi.default)(f,_,a.transforms)},aP=Jt.piecewiseToPaths=function(a,i,s){for(var c=[],l=0,f=a;f<i.length-a+1;){var _=(0,Af.multiplicity)(i,f),p=s.slice(l,l+a);a===4?c.push('<path d="M '.concat(p[0].x," ").concat(p[0].y," C ").concat(p[1].x," ").concat(p[1].y," ").concat(p[2].x," ").concat(p[2].y," ").concat(p[3].x," ").concat(p[3].y,'" />')):a===3&&c.push('<path d="M '.concat(p[0].x," ").concat(p[0].y," Q ").concat(p[1].x," ").concat(p[1].y," ").concat(p[2].x," ").concat(p[2].y,'" />')),l+=_,f+=_}return c},oP=function(a){var i=new $t.Box2;a.controlPoints.forEach(function(_){i=i.expandByPoint(_)});var s=a.degree+1,c=(0,Af.default)(s,a.controlPoints,a.knots),l=aP(s,c.knots,c.controlPoints),f="<g>".concat(l.join(""),"</g>");return(0,qi.default)(i,f,a.transforms)},sP=function(a){switch(a.type){case"CIRCLE":return tP(a);case"ELLIPSE":return rP(a);case"ARC":return nP(a);case"SPLINE":{var i=a.weights&&a.weights.some(function(s){return s!==1});if((a.degree===2||a.degree===3)&&!i)try{return oP(a)}catch{return Ma(a)}else return Ma(a)}case"LINE":case"LWPOLYLINE":case"POLYLINE":return Ma(a);default:return Vw.default.warn("entity type not supported in SVG rendering:",a.type),null}},vM=Jt.default=function(a){var i=(0,Yw.default)(a),s=i.reduce(function(_,p,g){var T=(0,Ww.default)(a.tables.layers,p),P=sP(p);if(P){var w=P.bbox,x=P.element;w.valid&&(_.bbox.expandByPoint(w.min),_.bbox.expandByPoint(w.max)),_.elements.push('<g stroke="'.concat((0,Uw.default)(T),'">').concat(x,"</g>"))}return _},{bbox:new $t.Box2,elements:[]}),c=s.bbox,l=s.elements,f=c.valid?{x:c.min.x,y:-c.max.y,width:c.max.x-c.min.x,height:c.max.y-c.min.y}:{x:0,y:0,width:0,height:0};return`<?xml version="1.0"?>
<svg
  xmlns="http://www.w3.org/2000/svg"
  xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
  preserveAspectRatio="xMinYMin meet"
  viewBox="`.concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height,`"
  width="100%" height="100%"
>
  <g stroke="#000000" stroke-width="0.1%" fill="none" transform="matrix(1,0,0,-1,0,0)">
    `).concat(l.join(`
`),`
  </g>
</svg>`)}});var qf=m(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.default=void 0;var Df=Qt(Ie()),uP=Qt(Gn()),lP=Qt(Mi()),cP=Qt(Ca()),hP=Qt(La()),fP=Qt(pa());function Qt(r){return r&&r.__esModule?r:{default:r}}function Bi(r){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Bi(r)}function dP(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function zf(r,a){for(var i=0;i<a.length;i++){var s=a[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,_P(s.key),s)}}function pP(r,a,i){return a&&zf(r.prototype,a),i&&zf(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}function _P(r){var a=mP(r,"string");return Bi(a)=="symbol"?a:a+""}function mP(r,a){if(Bi(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,a||"default");if(Bi(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}var yM=nn.default=function(){function r(a){if(dP(this,r),typeof a!="string")throw Error("Helper constructor expects a DXF string");this._contents=a,this._parsed=null,this._denormalised=null}return pP(r,[{key:"parse",value:function(){return this._parsed=(0,uP.default)(this._contents),Df.default.info("parsed:",this.parsed),this._parsed}},{key:"parsed",get:function(){return this._parsed===null&&this.parse(),this._parsed}},{key:"denormalise",value:function(){return this._denormalised=(0,lP.default)(this.parsed),Df.default.info("denormalised:",this._denormalised),this._denormalised}},{key:"denormalised",get:function(){return this._denormalised||this.denormalise(),this._denormalised}},{key:"group",value:function(){this._groups=(0,fP.default)(this.denormalised)}},{key:"groups",get:function(){return this._groups||this.group(),this._groups}},{key:"toSVG",value:function(){return(0,cP.default)(this.parsed)}},{key:"toPolylines",value:function(){return(0,hP.default)(this.parsed)}}])}()});var Bf=m(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Object.defineProperty(Re,"Helper",{enumerable:!0,get:function(){return TP.default}});Object.defineProperty(Re,"colors",{enumerable:!0,get:function(){return PP.default}});Object.defineProperty(Re,"config",{enumerable:!0,get:function(){return vP.default}});Object.defineProperty(Re,"denormalise",{enumerable:!0,get:function(){return yP.default}});Object.defineProperty(Re,"groupEntitiesByLayer",{enumerable:!0,get:function(){return bP.default}});Object.defineProperty(Re,"parseString",{enumerable:!0,get:function(){return gP.default}});Object.defineProperty(Re,"toPolylines",{enumerable:!0,get:function(){return xP.default}});Object.defineProperty(Re,"toSVG",{enumerable:!0,get:function(){return wP.default}});var vP=mt(Rn()),gP=mt(Gn()),yP=mt(Mi()),bP=mt(pa()),xP=mt(La()),wP=mt(Ca()),PP=mt(Wr()),TP=mt(qf());function mt(r){return r&&r.__esModule?r:{default:r}}});var I=nr(or(),1);I.SVG.include({_resetTransformPath:function(r){r._path.setAttributeNS(null,"transform","")},transformPath:function(r,a){r._path.setAttributeNS(null,"transform","matrix("+a.join(" ")+")")}});I.SVG.include(I.Browser.vml?{_resetTransformPath:function(r){r._skew&&(r._skew.on=!1,r._path.removeChild(r._skew),r._skew=null)},transformPath:function(r,a){let i=r._skew;i||(i=I.SVG.create("skew"),r._path.appendChild(i),i.style.behavior="url(#default#VML)",r._skew=i);let s=a[0].toFixed(8)+" "+a[1].toFixed(8)+" "+a[2].toFixed(8)+" "+a[3].toFixed(8)+" 0 0",c=Math.floor(a[4]).toFixed()+", "+Math.floor(a[5]).toFixed(),l=this._path.style,f=parseFloat(l.left),_=parseFloat(l.top),p=parseFloat(l.width),g=parseFloat(l.height);isNaN(f)&&(f=0),isNaN(_)&&(_=0),(isNaN(p)||!p)&&(p=1),(isNaN(g)||!g)&&(g=1);let T=(-f/p-.5).toFixed(8)+" "+(-_/g-.5).toFixed(8);i.on="f",i.matrix=s,i.origin=T,i.offset=c,i.on=!0}}:{});function up(){return!0}I.Canvas.include({_resetTransformPath:function(r){this._containerCopy&&(delete this._containerCopy,r._containsPoint_&&(r._containsPoint=r._containsPoint_,delete r._containsPoint_,this._requestRedraw(r)))},transformPath:function(r,a){let i=this._containerCopy,s=this._ctx,c,l=I.Browser.retina?2:1,f=this._bounds,_=f.getSize(),p=f.min;i||(i=this._containerCopy=document.createElement("canvas"),c=i.getContext("2d"),i.width=l*_.x,i.height=l*_.y,this._removePath(r),this._redraw(),c.translate(l*f.min.x,l*f.min.y),c.drawImage(this._container,0,0),this._initPath(r),r._containsPoint_=r._containsPoint,r._containsPoint=up),s.save(),s.clearRect(p.x,p.y,_.x*l,_.y*l),s.setTransform(1,0,0,1,0,0),s.restore(),s.save(),s.drawImage(this._containerCopy,0,0,_.x,_.y),s.transform.apply(s,a),this._drawing=!0,r._updatePath(),this._drawing=!1,s.restore()}});I.Path.include({_transform:function(r){return this._renderer&&(r?this._renderer.transformPath(this,r):(this._renderer._resetTransformPath(this),this._update())),this},_onMouseClick:function(r){this.dragging&&this.dragging.moved()||this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(r)}});var lp={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},cp={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"};function hp(r,a){let i=r.x-a.x,s=r.y-a.y;return Math.sqrt(i*i+s*s)}I.Handler.PathDrag=I.Handler.extend({statics:{DRAGGING_CLS:"leaflet-path-draggable"},initialize:function(r){this._path=r,this._matrix=null,this._startPoint=null,this._dragStartPoint=null,this._mapDraggingWasEnabled=!1,this._path._dragMoved=!1},addHooks:function(){this._path.on("mousedown",this._onDragStart,this),this._path.options.className=this._path.options.className?this._path.options.className+" "+I.Handler.PathDrag.DRAGGING_CLS:I.Handler.PathDrag.DRAGGING_CLS,this._path._path&&I.DomUtil.addClass(this._path._path,I.Handler.PathDrag.DRAGGING_CLS)},removeHooks:function(){this._path.off("mousedown",this._onDragStart,this),this._path.options.className=this._path.options.className.replace(new RegExp("\\s+"+I.Handler.PathDrag.DRAGGING_CLS),""),this._path._path&&I.DomUtil.removeClass(this._path._path,I.Handler.PathDrag.DRAGGING_CLS)},moved:function(){return this._path._dragMoved},_onDragStart:function(r){let a=r.originalEvent._simulated?"touchstart":r.originalEvent.type;this._mapDraggingWasEnabled=!1,this._startPoint=r.containerPoint.clone(),this._dragStartPoint=r.containerPoint.clone(),this._matrix=[1,0,0,1,0,0],I.DomEvent.stop(r.originalEvent),I.DomUtil.addClass(this._path._renderer._container,"leaflet-interactive"),I.DomEvent.on(document,cp[a],this._onDrag,this).on(document,lp[a],this._onDragEnd,this),this._path._map.dragging.enabled()&&(this._path._map.dragging.disable(),this._mapDraggingWasEnabled=!0),this._path._dragMoved=!1,this._path._popup&&this._path._popup.close(),this._replaceCoordGetters(r)},_onDrag:function(r){I.DomEvent.stop(r);let a=r.touches&&r.touches.length>=1?r.touches[0]:r,i=this._path._map.mouseEventToContainerPoint(a);if(r.type==="touchmove"&&!this._path._dragMoved&&this._dragStartPoint.distanceTo(i)<=this._path._map.options.tapTolerance)return;let s=i.x,c=i.y,l=s-this._startPoint.x,f=c-this._startPoint.y;(l||f)&&(this._path._dragMoved||(this._path._dragMoved=!0,this._path.options.interactive=!1,this._path._map.dragging._draggable._moved=!0,this._path.fire("dragstart",r),this._path.bringToFront()),this._matrix[4]+=l,this._matrix[5]+=f,this._startPoint.x=s,this._startPoint.y=c,this._path.fire("predrag",r),this._path._transform(this._matrix),this._path.fire("drag",r))},_onDragEnd:function(r){let a=this._path._map.mouseEventToContainerPoint(r),i=this.moved();if(i&&(this._transformPoints(this._matrix),this._path._updatePath(),this._path._project(),this._path._transform(null),I.DomEvent.stop(r)),I.DomEvent.off(document,"mousemove touchmove",this._onDrag,this),I.DomEvent.off(document,"mouseup touchend",this._onDragEnd,this),this._restoreCoordGetters(),i){this._path.fire("dragend",{distance:hp(this._dragStartPoint,a)});let s=this._path._containsPoint;this._path._containsPoint=I.Util.falseFn,I.Util.requestAnimFrame(function(){this._path._dragMoved=!1,this._path.options.interactive=!0,this._path._containsPoint=s},this)}this._mapDraggingWasEnabled&&this._path._map.dragging.enable()},_transformPoints:function(r,a){let i=this._path,s=L.point(r[4],r[5]),c=i._map.options.crs,l=c.transformation,f=c.scale(i._map.getZoom()),_=c.projection,p=l.untransform(s,f).subtract(l.untransform((0,I.point)(0,0),f)),g=!a;if(i._bounds=new I.LatLngBounds,i._point)a=_.unproject(_.project(i._latlng)._add(p)),g&&(i._latlng=a,i._point._add(s));else if(i._rings||i._parts){let T=i._rings||i._parts,P=i._latlngs;a=a||P,I.Util.isArray(P[0])||(P=[P],a=[a]);for(let w=0,x=T.length;w<x;w++){a[w]=a[w]||[];for(let E=0,k=T[w].length;E<k;E++){let S=P[w][E];a[w][E]=_.unproject(_.project(S)._add(p)),g&&(i._bounds.extend(P[w][E]),T[w][E]._add(s))}}}return a},_replaceCoordGetters:function(){this._path.getLatLng?(this._path.getLatLng_=this._path.getLatLng,this._path.getLatLng=I.Util.bind(function(){return this.dragging._transformPoints(this.dragging._matrix,{})},this._path)):this._path.getLatLngs&&(this._path.getLatLngs_=this._path.getLatLngs,this._path.getLatLngs=I.Util.bind(function(){return this.dragging._transformPoints(this.dragging._matrix,[])},this._path))},_restoreCoordGetters:function(){this._path.getLatLng_?(this._path.getLatLng=this._path.getLatLng_,delete this._path.getLatLng_):this._path.getLatLngs_&&(this._path.getLatLngs=this._path.getLatLngs_,delete this._path.getLatLngs_)}});I.Handler.PathDrag.makeDraggable=function(r){return r.dragging=new I.Handler.PathDrag(r),r};I.Path.prototype.makeDraggable=function(){return I.Handler.PathDrag.makeDraggable(this)};I.Path.addInitHook(function(){this.options.draggable?(this.options.interactive=!0,this.dragging?this.dragging.enable():(I.Handler.PathDrag.makeDraggable(this),this.dragging.enable())):this.dragging&&this.dragging.disable()});var AP=I.Handler.PathDrag;var be=nr(or());var kP=nr(Bf());var ei=nr(or()),Aa=19,Oa=5,LP=ei.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),MP=ei.tileLayer("https://tiles.stadiamaps.com/tiles/alidade_satellite/{z}/{x}/{y}{r}.{ext}",{minZoom:0,maxZoom:20,attribution:'&copy; CNES, Distribution Airbus DS, \xA9 Airbus DS, \xA9 PlanetObserver (Contains Copernicus Data) | &copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',ext:"jpg"}),EP=ei.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{minZoom:Oa,maxZoom:Aa,attribution:"\xA9 OpenStreetMap"}),SP=ei.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{minZoom:Oa,maxZoom:Aa,attribution:"\xA9 OpenStreetMap contributors, Tiles style by Humanitarian OpenStreetMap Team hosted by OpenStreetMap France"}),CP=ei.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{minZoom:Oa,maxZoom:Aa,attribution:"Map data: \xA9 OpenStreetMap contributors, SRTM | Map style: \xA9 OpenTopoMap (CC-BY-SA)"}),Fi={stadiaAlidadeSatellite:MP,esriWorldImagery:LP,osm:EP,osmHOT:SP,openTopoMap:CP};var XM=(()=>{let a=class a{constructor(){this.markerClick=Uo(),this.dataToDisplay=Xo([]),this.centroid=[17.570924,120.627023],this.markersLayerGroup=be.layerGroup(),this.dataLayerGroup=be.layerGroup(),this.imageLayerGroup=be.layerGroup(),this.selectedNapCode="",this.activatedRoute=Go($o),this.onEachFeature=(s,c)=>{},this.addStyle=s=>{let c={fill:!1,opacity:0};return s?.properties?.NAPCODE===this.selectedNapCode&&(c={fill:!0,opacity:1}),c}}ngOnInit(){this.initMap(),this.sub2QueryParamsToViewRecord()}ngOnChanges(s){this.selectedNapCode="",this.addConvData(!0)}initMap(){this.map=be.map("map",{layers:[Fi.osm]}).setView(this.centroid,14);let s={OpenStreetMap:Fi.osm,"OpenStreetMap.HOT":Fi.osmHOT,OpenTopoMap:Fi.openTopoMap};be.control.layers(s).addTo(this.map),this.map.addLayer(this.markersLayerGroup),this.map.addLayer(this.dataLayerGroup),this.map.addLayer(this.imageLayerGroup),this.addConvData()}sub2QueryParamsToViewRecord(){this.activatedRoute.queryParams.subscribe(s=>{let c=s.id;c&&this.map.eachLayer(l=>{l instanceof be.FeatureGroup&&l.getLayers().forEach(f=>{let _=f;_.feature.properties&&_.feature.properties.ParcelId.toString()===c&&f.fireEvent("click")})})})}addConvData(s=!1){this.dataLayerGroup.clearLayers();let c={type:"FeatureCollection",features:this.dataToDisplay()};if(be.geoJSON(c,{onEachFeature:this.onEachFeature,style:this.addStyle}).addTo(this.dataLayerGroup),s&&c.features.length>0){let l=c.features[0].properties;this.map.setView([l?.LATITUDE,l?.LONGITUDE],14)}c.features.forEach(l=>{be.marker([l.properties?.LATITUDE,l.properties?.LONGITUDE]).addTo(this.dataLayerGroup).on("click",()=>{this.markerClick.emit(this.mapPropToInfo(l.properties)),this.selectedNapCode=l.properties?.NAPCODE,this.addConvData()})})}mapPropToInfo(s){return{province:s.PROVINCE,municipality:s.MUNICIPALITY,barangay:s.BARANGAY,olt_code:s.OLT_CODE,lcp_id:s.LCP_ID,napcode:s.NAPCODE,latitude:s.LATITUDE,longitude:s.LONGITUDE,rfs_date:s["RFS DATE"],deployed_ports:s["DEPLOYED PORTS"],active_ports:s["ACTIVE PORTS"],reserved_ports:s["RESERVED PORTS"],available_ports:s["AVAILABLE PORTS"]}}};a.\u0275fac=function(c){return new(c||a)},a.\u0275cmp=Wo({type:a,selectors:[["app-map"]],inputs:{dataToDisplay:[Yo.SignalBased,"dataToDisplay"]},outputs:{markerClick:"markerClick"},standalone:!0,features:[Vo,Jo],decls:1,vars:0,consts:[["id","map"]],template:function(c,l){c&1&&Ko(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{height:88vh}  .custom-label{font-size:12px;color:#fff;background:none;border:none}"]});let r=a;return r})();export{or as a,Fi as b,XM as c};
