import{a as ge,b as fe,c as ve,f as Ce,h as _e,n as ye}from"./chunk-LNI5EDG2.js";import{c as V,g as he,h as pe,m as G,n as x,o as me}from"./chunk-VI56VQHI.js";import{$a as q,Aa as H,Cb as P,Cc as se,Db as v,Eb as s,Ec as le,Fa as W,Fc as ae,Hc as ce,Ib as _,Jb as y,Jc as de,Kb as b,Mb as O,Pc as ue,Qb as R,Qc as U,Rb as B,Sb as F,Sc as X,Tb as te,Ua as u,Ub as ie,Uc as z,Va as f,Wb as A,Xb as T,Y as N,_ as j,a as L,b as I,ha as w,hb as K,ia as M,ja as Z,lb as J,lc as oe,mb as p,nb as k,nc as S,ob as $,oc as ne,ra as l,rb as ee,sa as a,vc as re,wb as h,xb as m,yb as E,za as Y}from"./chunk-FNTEHTPP.js";var Se=["container"],xe=["input"],Me=["colorSelector"],He=["colorHandle"],Te=["hue"],Ve=["hueHandle"],De=(n,C)=>({"p-colorpicker p-component":!0,"p-colorpicker-overlay":n,"p-colorpicker-dragging":C}),Le=n=>({"p-disabled":n}),Ie=(n,C)=>({"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":n,"p-disabled":C}),Ee=(n,C)=>({showTransitionParams:n,hideTransitionParams:C}),Pe=n=>({value:"visible",params:n});function Oe(n,C){if(n&1){let e=P();h(0,"input",9,1),v("click",function(){l(e);let i=s();return a(i.onInputClick())})("keydown",function(i){l(e);let o=s();return a(o.onInputKeydown(i))})("focus",function(){l(e);let i=s();return a(i.onInputFocus())}),m()}if(n&2){let e=s();$("background-color",e.inputBgColor),k("ngClass",A(9,Le,e.disabled))("disabled",e.disabled)("autofocus",e.autofocus),p("tabindex",e.tabindex)("id",e.inputId)("data-pc-section","input")("aria-label",e.ariaLabel)}}function Re(n,C){if(n&1){let e=P();h(0,"div",10),v("click",function(i){l(e);let o=s();return a(o.onOverlayClick(i))})("@overlayAnimation.start",function(i){l(e);let o=s();return a(o.onOverlayAnimationStart(i))})("@overlayAnimation.done",function(i){l(e);let o=s();return a(o.onOverlayAnimationEnd(i))}),h(1,"div",11)(2,"div",12,2),v("touchstart",function(i){l(e);let o=s();return a(o.onColorDragStart(i))})("touchmove",function(i){l(e);let o=s();return a(o.onDrag(i))})("touchend",function(){l(e);let i=s();return a(i.onDragEnd())})("mousedown",function(i){l(e);let o=s();return a(o.onColorMousedown(i))}),h(4,"div",13),E(5,"div",14,3),m()(),h(7,"div",15,4),v("mousedown",function(i){l(e);let o=s();return a(o.onHueMousedown(i))})("touchstart",function(i){l(e);let o=s();return a(o.onHueDragStart(i))})("touchmove",function(i){l(e);let o=s();return a(o.onDrag(i))})("touchend",function(){l(e);let i=s();return a(i.onDragEnd())}),E(9,"div",16,5),m()()()}if(n&2){let e=s();k("ngClass",T(10,Ie,!e.inline,e.disabled))("@overlayAnimation",A(16,Pe,T(13,Ee,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.inline===!0),p("data-pc-section","panel"),u(),p("data-pc-section","content"),u(),p("data-pc-section","selector"),u(2),p("data-pc-section","color"),u(),p("data-pc-section","colorHandle"),u(2),p("data-pc-section","hue"),u(2),p("data-pc-section","hueHandle")}}var Be={provide:ve,useExisting:N(()=>Q),multi:!0},Q=(()=>{class n{document;platformId;el;renderer;cd;config;overlayService;style;styleClass;inline;format="hex";appendTo;disabled;tabindex;inputId;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;onChange=new H;onShow=new H;onHide=new H;containerViewChild;inputViewChild;value={h:0,s:100,b:100};inputBgColor;shown;overlayVisible;defaultColor="ff0000";onModelChange=()=>{};onModelTouched=()=>{};documentClickListener;documentResizeListener;documentMousemoveListener;documentMouseupListener;documentHueMoveListener;scrollHandler;selfClick;colorDragging;hueDragging;overlay;colorSelectorViewChild;colorHandleViewChild;hueViewChild;hueHandleViewChild;window;constructor(e,t,i,o,r,c,d){this.document=e,this.platformId=t,this.el=i,this.renderer=o,this.cd=r,this.config=c,this.overlayService=d,this.window=this.document.defaultView}set colorSelector(e){this.colorSelectorViewChild=e}set colorHandle(e){this.colorHandleViewChild=e}set hue(e){this.hueViewChild=e}set hueHandle(e){this.hueHandleViewChild=e}get ariaLabel(){return this.config?.getTranslation(G.ARIA)[G.SELECT_COLOR]}onHueMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(e))}onHueDragStart(e){this.disabled||(this.hueDragging=!0,this.pickHue(e,e.changedTouches[0]))}onColorDragStart(e){this.disabled||(this.colorDragging=!0,this.pickColor(e,e.changedTouches[0]))}pickHue(e,t){let i=t?t.pageY:e.pageY,o=this.hueViewChild?.nativeElement.getBoundingClientRect().top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,i-o)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}onColorMousedown(e){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(e))}onDrag(e){this.colorDragging&&(this.pickColor(e,e.changedTouches[0]),e.preventDefault()),this.hueDragging&&(this.pickHue(e,e.changedTouches[0]),e.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(e,t){let i=t?t.pageX:e.pageX,o=t?t.pageY:e.pageY,r=this.colorSelectorViewChild?.nativeElement.getBoundingClientRect(),c=r.top+(this.document.defaultView.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop||0),d=r.left+this.document.body.scrollLeft,g=Math.floor(100*Math.max(0,Math.min(150,i-d))/150),we=Math.floor(100*(150-Math.max(0,Math.min(150,o-c)))/150);this.value=this.validateHSB({h:this.value.h,s:g,b:we}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:e,value:this.getValueToUpdate()})}getValueToUpdate(){let e;switch(this.format){case"hex":e="#"+this.HSBtoHEX(this.value);break;case"rgb":e=this.HSBtoRGB(this.value);break;case"hsb":e=this.value;break}return e}updateModel(){this.onModelChange(this.getValueToUpdate()),this.cd.markForCheck()}writeValue(e){if(e)switch(this.format){case"hex":this.value=this.HEXtoHSB(e);break;case"rgb":this.value=this.RGBtoHSB(e);break;case"hsb":this.value=e;break}else this.value=this.HEXtoHSB(this.defaultColor);setTimeout(()=>{this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()})}updateColorSelector(){if(this.colorSelectorViewChild){let e={};e.s=100,e.b=100,e.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(e)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild?.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&V.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide();break}}onOverlayAnimationEnd(e){switch(e.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&V.clear(e.element),this.onHide.emit({});break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.overlay):x.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.overlay)}alignOverlay(){this.appendTo?x.absolutePosition(this.overlay,this.inputViewChild?.nativeElement):x.relativePosition(this.overlay,this.inputViewChild?.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(e){switch(e.code){case"Space":this.togglePanel(),e.preventDefault();break;case"Escape":case"Tab":this.hide();break;default:break}}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}bindDocumentClickListener(){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){if(!this.documentMousemoveListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMousemoveListener=this.renderer.listen(e,"mousemove",t=>{this.colorDragging&&this.pickColor(t),this.hueDragging&&this.pickHue(t)})}}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){if(!this.documentMouseupListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentMouseupListener=this.renderer.listen(e,"mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()})}}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){de(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!x.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new me(this.containerViewChild?.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}validateRGB(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}}validateHEX(e){var t=6-e.length;if(t>0){for(var i=[],o=0;o<t;o++)i.push("0");i.push(e),e=i.join("")}return e}HEXtoRGB(e){let t=parseInt(e.indexOf("#")>-1?e.substring(1):e,16);return{r:t>>16,g:(t&65280)>>8,b:t&255}}HEXtoHSB(e){return this.RGBtoHSB(this.HEXtoRGB(e))}RGBtoHSB(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),o=Math.max(e.r,e.g,e.b),r=o-i;return t.b=o,t.s=o!=0?255*r/o:0,t.s!=0?e.r==o?t.h=(e.g-e.b)/r:e.g==o?t.h=2+(e.b-e.r)/r:t.h=4+(e.r-e.g)/r:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}HSBtoRGB(e){var t={r:0,g:0,b:0};let i=e.h,o=e.s*255/100,r=e.b*255/100;if(o==0)t={r,g:r,b:r};else{let c=r,d=(255-o)*r/255,g=(c-d)*(i%60)/60;i==360&&(i=0),i<60?(t.r=c,t.b=d,t.g=d+g):i<120?(t.g=c,t.b=d,t.r=c-g):i<180?(t.g=c,t.r=d,t.b=d+g):i<240?(t.b=c,t.r=d,t.g=c-g):i<300?(t.b=c,t.g=d,t.r=d+g):i<360?(t.r=c,t.g=d,t.b=c-g):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}RGBtoHEX(e){var t=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];for(var i in t)t[i].length==1&&(t[i]="0"+t[i]);return t.join("")}HSBtoHEX(e){return this.RGBtoHEX(this.HSBtoRGB(e))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&V.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}static \u0275fac=function(t){return new(t||n)(f(re),f(W),f(Y),f(q),f(oe),f(pe),f(he))};static \u0275cmp=M({type:n,selectors:[["p-colorPicker"]],viewQuery:function(t,i){if(t&1&&(_(Se,5),_(xe,5),_(Me,5),_(He,5),_(Te,5),_(Ve,5)),t&2){let o;y(o=b())&&(i.containerViewChild=o.first),y(o=b())&&(i.inputViewChild=o.first),y(o=b())&&(i.colorSelector=o.first),y(o=b())&&(i.colorHandle=o.first),y(o=b())&&(i.hue=o.first),y(o=b())&&(i.hueHandle=o.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:[w.HasDecoratorInputTransform,"inline","inline",S],format:"format",appendTo:"appendTo",disabled:[w.HasDecoratorInputTransform,"disabled","disabled",S],tabindex:"tabindex",inputId:"inputId",autoZIndex:[w.HasDecoratorInputTransform,"autoZIndex","autoZIndex",S],baseZIndex:[w.HasDecoratorInputTransform,"baseZIndex","baseZIndex",ne],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[w.HasDecoratorInputTransform,"autofocus","autofocus",S]},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[te([Be]),K],decls:4,vars:11,consts:[["container",""],["input",""],["colorSelector",""],["colorHandle",""],["hue",""],["hueHandle",""],[3,"ngStyle","ngClass"],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly","pAutoFocus","",3,"ngClass","disabled","backgroundColor","autofocus","click","keydown","focus",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly","pAutoFocus","",1,"p-colorpicker-preview","p-inputtext",3,"click","keydown","focus","ngClass","disabled","autofocus"],[3,"click","ngClass"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],[1,"p-colorpicker-hue-handle"]],template:function(t,i){t&1&&(h(0,"div",6,0),J(2,Oe,2,11,"input",7)(3,Re,11,18,"div",8),m()),t&2&&(ee(i.styleClass),k("ngStyle",i.style)("ngClass",T(8,De,!i.inline,i.colorDragging||i.hueDragging)),p("data-pc-name","colorpicker")("data-pc-section","root"),u(2),k("ngIf",!i.inline),u(),k("ngIf",i.inline||i.overlayVisible))},dependencies:[se,le,ae,ge],styles:[`@layer primeng{.p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}}
`],encapsulation:2,data:{animation:[ue("overlayAnimation",[z(":enter",[X({opacity:0,transform:"scaleY(0.8)"}),U("{{showTransitionParams}}")]),z(":leave",[U("{{hideTransitionParams}}",X({opacity:0}))])])]},changeDetection:0})}return n})(),be=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=Z({type:n});static \u0275inj=j({imports:[ce,fe]})}return n})();var Ae={mainColor:"#0000ff",selectedColor:"#ff0000",displayRivers:!0,displayRoads:!0};function Ue(){let n=localStorage.getItem("settings");return n?JSON.parse(n):Ae}function Xe(n){localStorage.setItem("settings",JSON.stringify(n))}var D={getLocalStorageSettings:Ue,setLocalStorageSettings:Xe};var mt=(()=>{class n{constructor(){this.currentSettings=D.getLocalStorageSettings()}ngOnInit(){this.mainColor=this.currentSettings.mainColor,this.selectedColor=this.currentSettings.selectedColor}mainColorChanged(e){D.setLocalStorageSettings(I(L({},this.currentSettings),{mainColor:e}))}selectedColorChanged(e){D.setLocalStorageSettings(I(L({},this.currentSettings),{selectedColor:e}))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=M({type:n,selectors:[["app-settings-page"]],standalone:!0,features:[ie],decls:9,vars:2,consts:[[1,"p-6"],[1,"flex","p-2","gap-2","align-items-center"],[3,"ngModelChange","ngModel"]],template:function(t,i){t&1&&(h(0,"div",0)(1,"div",1)(2,"span"),O(3,"Main Color: "),m(),h(4,"p-colorPicker",2),F("ngModelChange",function(r){return B(i.mainColor,r)||(i.mainColor=r),r}),v("ngModelChange",function(r){return i.mainColorChanged(r)}),m()(),h(5,"div",1)(6,"span"),O(7,"Selected Color: "),m(),h(8,"p-colorPicker",2),F("ngModelChange",function(r){return B(i.selectedColor,r)||(i.selectedColor=r),r}),v("ngModelChange",function(r){return i.selectedColorChanged(r)}),m()()()),t&2&&(u(4),R("ngModel",i.mainColor),u(4),R("ngModel",i.selectedColor))},dependencies:[be,Q,ye,Ce,_e]})}}return n})();export{mt as SettingsPageComponent};
